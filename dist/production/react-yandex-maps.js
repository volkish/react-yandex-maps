var e=require("react"),t=require("prop-types"),n=require("react-display-name"),a=require("create-react-context");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=/*#__PURE__*/o(e),s=/*#__PURE__*/o(t),u=/*#__PURE__*/o(n),i=/*#__PURE__*/o(a);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f.apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,p(e,t)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}var d=function(e,t){var n={};for(var a in e)-1===t.indexOf(a)&&(n[a]=e[a]);return n},c=i.default(null),h=i.default(null),m=function(e){var t=function(t){/*#__PURE__*/return r.default.createElement(h.Consumer,null,function(n){/*#__PURE__*/return r.default.createElement(e,f({parent:n},t))})};return t.displayName="withParentContext("+u.default(e)+")",t};function y(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=[]);var a=/*#__PURE__*/function(a){function o(){var e;return(e=a.call(this)||this).state={loading:!0},e._isMounted=!1,e}l(o,a);var s=o.prototype;return s.componentDidMount=function(){var e=this;this._isMounted=!0,this.props.ymaps.load().then(function(t){return Promise.all(n.concat(e.props.modules).map(t.loadModule)).then(function(){!0===e._isMounted&&e.setState({loading:!1},function(){e.props.onLoad(t)})})}).catch(function(t){!0===e._isMounted&&e.props.onError(t)})},s.componentWillUnmount=function(){this._isMounted=!1},s.render=function(){var n=this.props.ymaps,a=!1===t||!1===this.state.loading,o=d(this.props,["onLoad","onError","modules","ymaps"]);return a&&/*#__PURE__*/r.default.createElement(e,f({ymaps:n.getApi()},o))},o}(r.default.Component);return a.displayName="withYMaps("+u.default(e)+")",a.propTypes={onLoad:s.default.func,onError:s.default.func,modules:s.default.arrayOf(s.default.string),ymaps:s.default.object},a.defaultProps={onLoad:Function.prototype,onError:Function.prototype,modules:[]},function(e){var t=u.default(e),n=function(n){/*#__PURE__*/return r.default.createElement(c.Consumer,null,function(a){if(null===a)throw new Error("Couldn't find Yandex.Maps API in the context. Make sure that <"+t+" /> is inside <YMaps /> provider");/*#__PURE__*/return r.default.createElement(e,f({ymaps:a},n))})};return n.displayName="withYMapsContext("+t+")",n}(a)}var v={lang:"ru_RU",load:"",ns:"",mode:"debug"},O={},b=/*#__PURE__*/function(){function e(e){var t=Date.now().toString(32);this.options=e,this.namespace=e.query.ns||v.ns,this.onload="__yandex-maps-api-onload__$$"+t,this.onerror="__yandex-maps-api-onerror__$$"+t}var t=e.prototype;return t.getApi=function(){return"undefined"!=typeof window&&this.namespace?window[this.namespace]:this.api},t.setApi=function(e){return this.api=e},t.getPromise=function(){return this.namespace?O[this.namespace]:this.promise},t.setPromise=function(e){return this.namespace?O[this.namespace]=this.promise=e:this.promise=e},t.load=function(){var e=this;if(this.getApi())return Promise.resolve(this.setApi(this.getApi()));if(this.getPromise())return this.setPromise(this.getPromise());var t=Object.assign({onload:this.onload,onerror:this.onerror},v,this.options.query),n=Object.keys(t).map(function(e){return e+"="+t[e]}).join("&"),a=["https://"+(this.options.enterprise?"enterprise.":"")+"api-maps.yandex.ru",this.options.version,"?"+n].join("/"),o=new Promise(function(t,n){window[e.onload]=function(n){delete window[e.onload],n.loadModule=e.loadModule.bind(e),n.ready(function(){return t(e.setApi(n))})},window[e.onerror]=function(t){delete window[e.onerror],n(t)},e.fetchScript(a).catch(window[e.onerror])});return this.setPromise(o)},t.fetchScript=function(e){var t=this;return new Promise(function(n,a){t.script=document.createElement("script"),t.script.type="text/javascript",t.script.onload=n,t.script.onerror=a,t.script.src=e,t.script.async="async",document.head.appendChild(t.script)})},t.loadModule=function(e){var t=this;return new Promise(function(n,a){t.getApi().modules.require(e,function(a){(function(e,t,n,a){void 0===a&&(a=!1),t="string"==typeof t?t.split("."):t.slice();for(var o,r=e;t.length>1;)r[o=t.shift()]||(r[o]={}),r=r[o];r[t[0]]=!0===a&&r[t[0]]||n})(t.api,e,a,!0),n(a)},a,t.getApi())})},e}();b._name="__react-yandex-maps__";var g=/*#__PURE__*/function(e){function t(t){var n;return(n=e.call(this,t)||this).ymaps=new b(t),n}l(t,e);var n=t.prototype;return n.componentDidMount=function(){!0===this.props.preload&&this.ymaps.load()},n.render=function(){/*#__PURE__*/return r.default.createElement(c.Provider,{value:this.ymaps},this.props.children)},t}(r.default.Component);g.propTypes={version:s.default.string.isRequired,enterprise:s.default.bool,query:s.default.shape({lang:s.default.oneOf(["tr_TR","en_US","en_RU","ru_RU","ru_UA","uk_UA"]),apikey:s.default.string,coordorder:s.default.oneOf(["latlong","longlat"]),load:s.default.string,mode:s.default.oneOf(["release","debug"]),csp:s.default.bool,ns:s.default.string}),children:s.default.node,preload:s.default.bool},g.defaultProps={version:"2.1",enterprise:!1,query:{lang:"ru_RU",load:"",ns:""},preload:!1};var j=/^on(?=[A-Z])/;function R(e){return Object.keys(e).reduce(function(t,n){if(j.test(n)){var a=n.replace(j,"").toLowerCase();t._events[a]=e[n]}else t[n]=e[n];return t},{_events:{}})}function _(e,t,n){"function"==typeof n&&e.events.add(t,n)}function C(e,t,n){"function"==typeof n&&e.events.remove(t,n)}function E(e,t,n){Object.keys(Object.assign({},t,n)).forEach(function(a){t[a]!==n[a]&&(C(e,a,t[a]),_(e,a,n[a]))})}var T=function(e){return"default"+e.charAt(0).toUpperCase()+e.slice(1)};function P(e,t){return void 0!==e[t]||void 0===e[T(t)]}function x(e,t,n){return(P(e,t)?e[t]:e[T(t)])||n}function w(e,t,n){if(void 0===n&&(n=null),e!==t){if(e&&(e.hasOwnProperty("current")?e.current=null:"function"==typeof e&&e(null)),!t)return;t.hasOwnProperty("current")?t.current=n:"function"==typeof t&&t(n)}}function S(e){var t=e.width,n=e.height,a=e.style,o=e.className;return void 0!==a||void 0!==o?Object.assign({},a&&{style:a},o&&{className:o}):{style:{width:t,height:n}}}var M=/*#__PURE__*/function(e){function t(){var t;return(t=e.call(this)||this).state={instance:null},t._parentElement=null,t._getRef=function(e){t._parentElement=e},t}l(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=t.mountObject(this._parentElement,this.props.ymaps.Map,this.props);this.setState({instance:e})},n.componentDidUpdate=function(e){null!==this.state.instance&&t.updateObject(this.state.instance,e,this.props)},n.componentWillUnmount=function(){t.unmountObject(this.state.instance,this.props)},n.render=function(){var e=S(this.props),t=R(this.props),n=d(t,["_events","state","defaultState","options","defaultOptions","instanceRef","ymaps","children","width","height","style","className"]);/*#__PURE__*/return r.default.createElement(h.Provider,{value:this.state.instance},/*#__PURE__*/r.default.createElement("div",f({ref:this._getRef},e,n),this.props.children))},t.mountObject=function(e,t,n){var a=R(n),o=a.instanceRef,r=a._events,s=new t(e,x(n,"state"),x(n,"options"));return Object.keys(r).forEach(function(e){return _(s,e,r[e])}),w(null,o,s),s},t.updateObject=function(e,t,n){var a=R(n),o=a._events,r=a.instanceRef,s=R(t),u=s._events,i=s.instanceRef;if(P(n,"state")){var f=x(t,"state",{}),l=x(n,"state",{});f.type!==l.type&&e.setType(l.type),f.behaviors!==l.behaviors&&(f.behaviors&&e.behaviors.disable(f.behaviors),l.behaviors&&e.behaviors.enable(l.behaviors)),l.zoom&&f.zoom!==l.zoom&&e.setZoom(l.zoom),l.center&&f.center!==l.center&&e.setCenter(l.center),l.bounds&&f.bounds!==l.bounds&&e.setBounds(l.bounds)}if(P(n,"options")){var p=x(t,"options"),d=x(n,"options",{});p!==d&&e.options.set(d)}x(t,"width")===x(n,"width")&&x(t,"height")===x(n,"height")||e.container.fitToViewport(),E(e,u,o),w(i,r,e)},t.unmountObject=function(e,t){var n=R(t),a=n.instanceRef,o=n._events;null!==e&&(Object.keys(o).forEach(function(t){return C(e,t,o[t])}),e.destroy(),w(a))},t}(r.default.Component),D={bounds:s.default.arrayOf(s.default.arrayOf(s.default.number)),center:s.default.arrayOf(s.default.number),controls:s.default.arrayOf(s.default.string),behaviors:s.default.arrayOf(s.default.string),margin:s.default.oneOfType([s.default.arrayOf(s.default.number),s.default.arrayOf(s.default.arrayOf(s.default.number))]),type:s.default.oneOf(["yandex#map","yandex#satellite","yandex#hybrid"]),zoom:s.default.number},k={};M.propTypes={state:s.default.shape(D),defaultState:s.default.shape(D),options:s.default.shape(k),defaultOptions:s.default.shape(k),instanceRef:s.default.func,ymaps:s.default.object,children:s.default.node,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),style:s.default.object,className:s.default.string},M.defaultProps={width:320,height:240};var U=y(M,!0,["Map"]),q=/*#__PURE__*/function(e){function t(){var t;return(t=e.call(this)||this).state={instance:null},t._parentElement=null,t._getRef=function(e){t._parentElement=e},t}l(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this._mounted=!0,this.props.ymaps.panorama.isSupported()&&t.mountObject(this._parentElement,this.props.ymaps.panorama,this.props).then(function(t){return e._mounted&&e.setState({instance:t})})},n.componentDidUpdate=function(e){null!==this.state.instance&&t.updateObject(this.state.instance,e,this.props)},n.componentWillUnmount=function(){this._mounted=!1,t.unmountObject(this.state.instance,this.props)},n.render=function(){var e=S(this.props);/*#__PURE__*/return r.default.createElement("div",f({ref:this._getRef},e))},t.mountObject=function(e,t,n){var a=R(n),o=a.instanceRef,r=a._events,s=x(n,"point"),u=x(n,"locateOptions"),i=x(n,"options");return new Promise(function(n,a){t.locate(s,u).done(function(a){if(a.length>0){var s=new t.Player(e,a[0],i);w(null,o,s),Object.keys(r).forEach(function(e){return _(s,e,r[e])}),n(s)}},a)})},t.updateObject=function(e,t,n){var a=R(n),o=a._events,r=a.instanceRef,s=R(t),u=s._events,i=s.instanceRef;if(P(n,"options")){var f=x(t,"options"),l=x(n,"options");f!==l&&e.options.set(l)}if(P(n,"point")){var p=x(n,"point"),d=x(t,"point"),c=x(n,"locateOptions");p!==d&&e.moveTo(p,c)}E(e,u,o),w(i,r,e)},t.unmountObject=function(e,t){var n=R(t),a=n.instanceRef,o=n._events;null!==e&&(Object.keys(o).forEach(function(t){return C(e,t,o[t])}),w(a))},t}(r.default.Component),A={};q.propTypes={options:s.default.shape(A),defaultOptions:s.default.shape(A),point:s.default.arrayOf(s.default.number),defaultPoint:s.default.arrayOf(s.default.number),locateOptions:s.default.shape({layer:s.default.oneOf(["yandex#panorama","yandex#airPanorama"])}),instanceRef:s.default.func,ymaps:s.default.object,children:s.default.node,width:s.default.oneOfType([s.default.number,s.default.string]),height:s.default.oneOfType([s.default.number,s.default.string]),style:s.default.object,className:s.default.string},q.defaultProps={width:320,height:240};var B=y(q,!0,["panorama.isSupported","panorama.locate","panorama.createPlayer","panorama.Player"]),G=/*#__PURE__*/function(e){function t(){var t;return(t=e.call(this)||this).state={instance:null},t}l(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=t.mountControl(this.props.ymaps.control[this.props.name],this.props);this.setState({instance:e})},n.componentDidUpdate=function(e){null!==this.state.instance&&t.updateControl(this.state.instance,e,this.props)},n.componentWillUnmount=function(){t.unmountControl(this.state.instance,this.props)},n.render=function(){/*#__PURE__*/return r.default.createElement(h.Provider,{value:this.state.instance},this.props.children)},t.mountControl=function(e,t){var n=R(t),a=n.instanceRef,o=n.parent,r=n.lazy,s=n._events,u=new e({data:x(t,"data"),options:x(t,"options"),state:x(t,"state"),mapTypes:x(t,"mapTypes"),lazy:r});if(Object.keys(s).forEach(function(e){return _(u,e,s[e])}),o&&o.controls&&"function"==typeof o.controls.add)o.controls.add(u);else{if(!o||!o.add||"function"!=typeof o.add)throw new Error("No parent found to mount "+t.name);o.add(u)}return w(null,a,u),u},t.updateControl=function(e,t,n){var a=R(n),o=a._events,r=a.instanceRef,s=R(t),u=s._events,i=s.instanceRef;if(P(n,"options")){var f=x(t,"options"),l=x(n,"options");f!==l&&e.options.set(l)}if(P(n,"data")){var p=x(t,"data"),d=x(n,"data");p!==d&&e.data.set(d)}if(P(n,"state")){var c=x(t,"state"),h=x(n,"state");c!==h&&e.state.set(h)}if(P(n,"mapTypes")){var m=x(t,"mapTypes"),y=x(n,"mapTypes");m!==y&&(e.removeAllMapTypes(),y.forEach(function(t){return e.addMapType(t)}))}E(e,u,o),w(i,r,e)},t.unmountControl=function(e,t){var n=R(t),a=n.instanceRef,o=n.parent,r=n._events;null!==e&&(Object.keys(r).forEach(function(t){return C(e,t,r[t])}),o.controls&&"function"==typeof o.controls.remove?o.controls.remove(e):o.remove&&"function"==typeof o.remove&&o.remove(e),w(a))},t}(r.default.Component);function L(e){/*#__PURE__*/return r.default.createElement(G,f({},e,{name:"Button"}))}G.propTypes={children:s.default.node,instanceRef:s.default.func,ymaps:s.default.object,parent:s.default.object,name:s.default.oneOf(["Button","FullscreenControl","GeolocationControl","ListBox","ListBoxItem","RouteButton","RouteEditor","RoutePanel","RulerControl","SearchControl","TrafficControl","TypeSelector","ZoomControl"]).isRequired},L.propTypes={data:s.default.shape({}),defaultData:s.default.shape({}),options:s.default.shape({}),defaultOptions:s.default.shape({}),state:s.default.shape({}),defaultState:s.default.shape({})};var F=m(y(L,!0,["control.Button"]));function N(e){/*#__PURE__*/return r.default.createElement(G,f({},e,{name:"FullscreenControl"}))}N.propTypes={data:s.default.shape({}),defaultData:s.default.shape({}),options:s.default.shape({}),defaultOptions:s.default.shape({}),state:s.default.shape({}),defaultState:s.default.shape({})};var Z=m(y(N,!0,["control.FullscreenControl"]));function z(e){/*#__PURE__*/return r.default.createElement(G,f({},e,{name:"GeolocationControl"}))}z.propTypes={data:s.default.shape({}),defaultData:s.default.shape({}),options:s.default.shape({}),defaultOptions:s.default.shape({}),state:s.default.shape({}),defaultState:s.default.shape({})};var W=m(y(z,!0,["control.GeolocationControl"]));function Y(e){/*#__PURE__*/return r.default.createElement(G,f({},e,{name:"ListBox"}))}Y.propTypes={data:s.default.shape({}),defaultData:s.default.shape({}),options:s.default.shape({}),defaultOptions:s.default.shape({}),state:s.default.shape({}),defaultState:s.default.shape({})};var I=m(y(Y,!0,["control.ListBox"]));function $(e){/*#__PURE__*/return r.default.createElement(G,f({},e,{name:"ListBoxItem"}))}$.propTypes={data:s.default.shape({}),defaultData:s.default.shape({}),options:s.default.shape({}),defaultOptions:s.default.shape({}),state:s.default.shape({}),defaultState:s.default.shape({})};var V=m(y($,!0,["control.ListBoxItem"]));function H(e){/*#__PURE__*/return r.default.createElement(G,f({},e,{name:"RouteButton"}))}H.propTypes={data:s.default.shape({}),defaultData:s.default.shape({}),options:s.default.shape({}),defaultOptions:s.default.shape({}),state:s.default.shape({}),defaultState:s.default.shape({})};var J=m(y(H,!0,["control.RouteButton"]));function K(e){/*#__PURE__*/return r.default.createElement(G,f({},e,{name:"RouteEditor"}))}K.propTypes={data:s.default.shape({}),defaultData:s.default.shape({}),options:s.default.shape({}),defaultOptions:s.default.shape({}),state:s.default.shape({}),defaultState:s.default.shape({})};var Q=m(y(K,!0,["control.RouteEditor"]));function X(e){/*#__PURE__*/return r.default.createElement(G,f({},e,{name:"RoutePanel"}))}X.propTypes={data:s.default.shape({}),defaultData:s.default.shape({}),options:s.default.shape({}),defaultOptions:s.default.shape({}),state:s.default.shape({}),defaultState:s.default.shape({})};var ee=m(y(X,!0,["control.RoutePanel"]));function te(e){/*#__PURE__*/return r.default.createElement(G,f({},e,{name:"RulerControl"}))}te.propTypes={data:s.default.shape({}),defaultData:s.default.shape({}),options:s.default.shape({}),defaultOptions:s.default.shape({}),state:s.default.shape({}),defaultState:s.default.shape({})};var ne=m(y(te,!0,["control.RulerControl"]));function ae(e){/*#__PURE__*/return r.default.createElement(G,f({},e,{name:"SearchControl"}))}ae.propTypes={data:s.default.shape({}),defaultData:s.default.shape({}),options:s.default.shape({}),defaultOptions:s.default.shape({}),state:s.default.shape({}),defaultState:s.default.shape({})};var oe=m(y(ae,!0,["control.SearchControl"]));function re(e){/*#__PURE__*/return r.default.createElement(G,f({},e,{name:"TrafficControl"}))}re.propTypes={data:s.default.shape({}),defaultData:s.default.shape({}),options:s.default.shape({}),defaultOptions:s.default.shape({}),state:s.default.shape({}),defaultState:s.default.shape({})};var se=m(y(re,!0,["control.TrafficControl"]));function ue(e){/*#__PURE__*/return r.default.createElement(G,f({},e,{name:"TypeSelector"}))}ue.propTypes={mapTypes:s.default.arrayOf(s.default.oneOf(["yandex#map","yandex#satellite","yandex#hybrid"])),defaultMapTypes:s.default.arrayOf(s.default.oneOf(["yandex#map","yandex#satellite","yandex#hybrid"])),options:s.default.shape({}),defaultOptions:s.default.shape({}),state:s.default.shape({}),defaultState:s.default.shape({})};var ie=m(y(ue,!0,["control.TypeSelector"]));function fe(e){/*#__PURE__*/return r.default.createElement(G,f({},e,{name:"ZoomControl"}))}fe.propTypes={data:s.default.shape({}),defaultData:s.default.shape({}),options:s.default.shape({}),defaultOptions:s.default.shape({}),state:s.default.shape({}),defaultState:s.default.shape({})};var le=m(y(fe,!0,["control.ZoomControl"])),pe=/*#__PURE__*/function(e){function t(){var t;return(t=e.call(this)||this).state={instance:null},t}l(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=t.mountObject(this.props.ymaps.Clusterer,this.props);this.setState({instance:e})},n.componentDidUpdate=function(e){null!==this.state.instance&&t.updateObject(this.state.instance,e,this.props)},n.componentWillUnmount=function(){t.unmountObject(this.state.instance,this.props)},n.render=function(){/*#__PURE__*/return r.default.createElement(h.Provider,{value:this.state.instance},this.props.children)},t.mountObject=function(e,t){var n=R(t),a=n.instanceRef,o=n.parent,r=n._events,s=new e(x(t,"options"));if(Object.keys(r).forEach(function(e){return _(s,e,r[e])}),o.geoObjects&&"function"==typeof o.geoObjects.add)o.geoObjects.add(s);else{if(!o.add||"function"!=typeof o.add)throw new Error("No parent found to mount Clusterer");o.add(s)}return w(null,a,s),s},t.updateObject=function(e,t,n){var a=R(n),o=a._events,r=a.instanceRef,s=R(t),u=s._events,i=s.instanceRef;if(P(n,"options")){var f=x(t,"options"),l=x(n,"options");f!==l&&e.options.set(l)}E(e,u,o),w(i,r,e)},t.unmountObject=function(e,t){var n=R(t),a=n.instanceRef,o=n.parent,r=n._events;null!==e&&(Object.keys(r).forEach(function(t){return C(e,t,r[t])}),o.geoObjects&&"function"==typeof o.geoObjects.remove?o.geoObjects.remove(e):o.remove&&"function"==typeof o.remove&&o.remove(e),w(a))},t}(r.default.Component);pe.propTypes={options:s.default.shape({}),defaultOptions:s.default.shape({}),instanceRef:s.default.func,ymaps:s.default.object,parent:s.default.object,children:s.default.node};var de=m(y(pe,!0,["Clusterer"])),ce=/*#__PURE__*/function(e){function t(){var t;return(t=e.call(this)||this).state={instance:null},t}l(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=t.mountObject(this.props.ymaps.ObjectManager,this.props);this.setState({instance:e})},n.componentDidUpdate=function(e){null!==this.state.instance&&t.updateObject(this.state.instance,e,this.props)},n.componentWillUnmount=function(){t.unmountObject(this.state.instance,this.props)},n.render=function(){return null},t.mountObject=function(e,t){var n=R(t),a=n.instanceRef,o=n.parent,r=n._events,s=x(t,"options",{}),u=x(t,"features",{}),i=x(t,"filter",null),f=x(t,"objects",{}),l=x(t,"clusters",{}),p=new e(s);if(p.add(u||[]),p.setFilter(i),p.objects.options.set(f),p.clusters.options.set(l),Object.keys(r).forEach(function(e){return _(p,e,r[e])}),o.geoObjects&&"function"==typeof o.geoObjects.add)o.geoObjects.add(p);else{if(!o.add||"function"!=typeof o.add)throw new Error("No parent found to mount ObjectManager");o.add(p)}return w(null,a,p),p},t.updateObject=function(e,t,n){var a=R(n),o=a._events,r=a.instanceRef,s=R(t),u=s._events,i=s.instanceRef;if(P(n,"options")){var f=x(t,"options"),l=x(n,"options");f!==l&&e.options.set(l)}if(P(n,"objects")){var p=x(t,"objects"),d=x(n,"objects");p!==d&&e.objects.options.set(d)}if(P(n,"clusters")){var c=x(t,"clusters"),h=x(n,"clusters");c!==h&&e.clusters.options.set(h)}if(P(n,"filter")){var m=x(t,"filter"),y=x(n,"filter");m!==y&&e.setFilter(y)}if(P(n,"features")){var v=x(t,"features"),O=x(n,"features");v!==O&&(e.remove(v),e.add(O))}E(e,u,o),w(i,r,e)},t.unmountObject=function(e,t){var n=R(t),a=n.instanceRef,o=n.parent,r=n._events;null!==e&&(Object.keys(r).forEach(function(t){return C(e,t,r[t])}),o.geoObjects&&"function"==typeof o.geoObjects.remove?o.geoObjects.remove(e):o.remove&&"function"==typeof o.remove&&o.remove(e),w(a))},t}(r.default.Component),he=s.default.shape({id:s.default.oneOfType([s.default.number,s.default.string]).isRequired,type:s.default.oneOf(["Feature"]).isRequired,geometry:s.default.object.isRequired,options:s.default.object,properties:s.default.object}),me={type:s.default.oneOf(["FeatureCollection"]).isRequired};me.features=s.default.arrayOf(s.default.oneOfType([s.default.shape(me),he])).isRequired;var ye=s.default.shape(me),ve=s.default.oneOfType([s.default.arrayOf(s.default.oneOfType([ye,he])),ye]),Oe=s.default.oneOfType([s.default.string,s.default.func]),be=s.default.shape({}),ge=s.default.shape({}),je=s.default.shape({});ce.propTypes={features:ve,defaultFeatures:ve,filter:Oe,defaultFilter:Oe,options:be,defaultOptions:be,objects:ge,defaultObjects:ge,clusters:je,defaultClusters:je,instanceRef:s.default.func,ymaps:s.default.object,parent:s.default.object};var Re=m(y(ce,!0,["ObjectManager"])),_e=/*#__PURE__*/function(e){function t(){var t;return(t=e.call(this)||this).state={instance:null},t}l(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,n=e.name,a=e.ymaps,o=e.dangerZone,r=t.mountObject(o&&"function"==typeof o.modifyConstructor?o.modifyConstructor(a[n]):a[n],this.props);this.setState({instance:r})},n.componentDidUpdate=function(e){null!==this.state.instance&&t.updateObject(this.state.instance,e,this.props)},n.componentWillUnmount=function(){t.unmountObject(this.state.instance,this.props)},n.render=function(){return null},t.mountObject=function(e,t){var n=R(t),a=n.instanceRef,o=n.parent,r=n._events,s=new e(x(t,"geometry"),x(t,"properties"),x(t,"options"));if(Object.keys(r).forEach(function(e){return _(s,e,r[e])}),o&&o.geoObjects&&"function"==typeof o.geoObjects.add)o.geoObjects.add(s);else{if(!o||!o.add||"function"!=typeof o.add)throw new Error("No parent found to mount "+t.name);o.add(s)}return w(null,a,s),s},t.updateObject=function(e,t,n){var a=R(n),o=a._events,r=a.instanceRef,s=R(t),u=s._events,i=s.instanceRef;if(P(n,"geometry")){var f=x(t,"geometry",{}),l=x(n,"geometry",{});Array.isArray(l)&&l!==f?Array.isArray(l[0])&&"number"==typeof l[1]?(e.geometry.setCoordinates(l[0]),e.geometry.setRadius(l[1])):e.geometry.setCoordinates(l):"object"==typeof l&&(l.coordinates!==f.coordinates&&e.geometry.setCoordinates(l.coordinates),l.radius!==f.radius&&e.geometry.setRadius(l.radius))}if(P(n,"properties")){var p=x(t,"properties"),d=x(n,"properties");p!==d&&e.properties.set(d)}if(P(n,"options")){var c=x(t,"options"),h=x(n,"options");c!==h&&e.options.set(h)}E(e,u,o),w(i,r,e)},t.unmountObject=function(e,t){var n=R(t),a=n.instanceRef,o=n.parent,r=n._events;null!==e&&(Object.keys(r).forEach(function(t){return C(e,t,r[t])}),o.geoObjects&&"function"==typeof o.geoObjects.remove?o.geoObjects.remove(e):o.remove&&"function"==typeof o.remove&&o.remove(e),w(a))},t}(r.default.Component);_e.propTypes={instanceRef:s.default.func,ymaps:s.default.object,parent:s.default.object,name:s.default.oneOf(["GeoObject","Placemark","Polyline","Rectangle","Polygon","Circle"]).isRequired,dangerZone:s.default.shape({modifyConstructor:s.default.func})};var Ce={modifyConstructor:function(e){function t(t,n,a){e.call(this,{geometry:t,properties:n},a)}return t.prototype=e.prototype,t}};function Ee(e){/*#__PURE__*/return r.default.createElement(_e,f({},e,{name:"GeoObject",dangerZone:Ce}))}var Te=s.default.shape({type:s.default.oneOf(["Point","LineString","Rectangle","Polygon","Circle"]).isRequired,coordinates:s.default.oneOfType([s.default.arrayOf(s.default.number),s.default.arrayOf(s.default.arrayOf(s.default.number)),s.default.arrayOf(s.default.arrayOf(s.default.arrayOf(s.default.number)))]).isRequired,radius:s.default.number});Ee.propTypes={geometry:Te,defaultGeometry:Te,properties:s.default.shape({}),defaultProperties:s.default.shape({}),options:s.default.shape({}),defaultOptions:s.default.shape({})};var Pe=m(y(Ee,!0,["GeoObject"]));function xe(e){/*#__PURE__*/return r.default.createElement(_e,f({},e,{name:"Circle"}))}var we=s.default.arrayOf(s.default.oneOfType([s.default.number,s.default.arrayOf(s.default.number)]));xe.propTypes={geometry:we,defaultGeometry:we,properties:s.default.shape({}),defaultProperties:s.default.shape({}),options:s.default.shape({}),defaultOptions:s.default.shape({})};var Se=m(y(xe,!0,["Circle"]));function Me(e){/*#__PURE__*/return r.default.createElement(_e,f({},e,{name:"Placemark"}))}var De=s.default.arrayOf(s.default.number);Me.propTypes={geometry:De,defaultGeometry:De,properties:s.default.shape({}),defaultProperties:s.default.shape({}),options:s.default.shape({}),defaultOptions:s.default.shape({})};var ke=m(y(Me,!0,["Placemark"]));function Ue(e){/*#__PURE__*/return r.default.createElement(_e,f({},e,{name:"Polygon"}))}var qe=s.default.arrayOf(s.default.arrayOf(s.default.arrayOf(s.default.number)));Ue.propTypes={geometry:qe,defaultGeometry:qe,properties:s.default.shape({}),defaultProperties:s.default.shape({}),options:s.default.shape({}),defaultOptions:s.default.shape({})};var Ae=m(y(Ue,!0,["Polygon"]));function Be(e){/*#__PURE__*/return r.default.createElement(_e,f({},e,{name:"Polyline"}))}var Ge=s.default.arrayOf(s.default.arrayOf(s.default.number));Be.propTypes={geometry:Ge,defaultGeometry:Ge,properties:s.default.shape({}),defaultProperties:s.default.shape({}),options:s.default.shape({}),defaultOptions:s.default.shape({})};var Le=m(y(Be,!0,["Polyline"]));function Fe(e){/*#__PURE__*/return r.default.createElement(_e,f({},e,{name:"Rectangle"}))}var Ne=s.default.arrayOf(s.default.arrayOf(s.default.number));Fe.propTypes={geometry:Ne,defaultGeometry:Ne,properties:s.default.shape({}),defaultProperties:s.default.shape({}),options:s.default.shape({}),defaultOptions:s.default.shape({})};var Ze=m(y(Fe,!0,["Rectangle"]));exports.Button=F,exports.Circle=Se,exports.Clusterer=de,exports.FullscreenControl=Z,exports.GeoObject=Pe,exports.GeolocationControl=W,exports.ListBox=I,exports.ListBoxItem=V,exports.Map=U,exports.ObjectManager=Re,exports.Panorama=B,exports.Placemark=ke,exports.Polygon=Ae,exports.Polyline=Le,exports.Rectangle=Ze,exports.RouteButton=J,exports.RouteEditor=Q,exports.RoutePanel=ee,exports.RulerControl=ne,exports.SearchControl=oe,exports.TrafficControl=se,exports.TypeSelector=ie,exports.YMaps=g,exports.ZoomControl=le,exports.withYMaps=y;
//# sourceMappingURL=react-yandex-maps.js.map
