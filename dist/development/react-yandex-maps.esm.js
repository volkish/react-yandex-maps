import e from"react";import t from"prop-types";import n from"react-display-name";import o from"create-react-context";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r.apply(this,arguments)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}var i=function(e,t){var n={};for(var o in e)-1===t.indexOf(o)&&(n[o]=e[o]);return n},p=o(null),u=o(null),c=function(t){var o=function(n){/*#__PURE__*/return e.createElement(u.Consumer,null,function(o){/*#__PURE__*/return e.createElement(t,r({parent:o},n))})};return o.displayName="withParentContext("+n(t)+")",o};function f(o,s,u){void 0===s&&(s=!1),void 0===u&&(u=[]);var c=/*#__PURE__*/function(t){function n(){var e;return(e=t.call(this)||this).state={loading:!0},e._isMounted=!1,e}a(n,t);var p=n.prototype;return p.componentDidMount=function(){var e=this;this._isMounted=!0,this.props.ymaps.load().then(function(t){return Promise.all(u.concat(e.props.modules).map(t.loadModule)).then(function(){!0===e._isMounted&&e.setState({loading:!1},function(){e.props.onLoad(t)})})}).catch(function(t){!0===e._isMounted&&e.props.onError(t)})},p.componentWillUnmount=function(){this._isMounted=!1},p.render=function(){var t=this.props.ymaps,n=!1===s||!1===this.state.loading,a=i(this.props,["onLoad","onError","modules","ymaps"]);return n&&/*#__PURE__*/e.createElement(o,r({ymaps:t.getApi()},a))},n}(e.Component);return c.displayName="withYMaps("+n(o)+")",c.propTypes={onLoad:t.func,onError:t.func,modules:t.arrayOf(t.string),ymaps:t.object},c.defaultProps={onLoad:Function.prototype,onError:Function.prototype,modules:[]},function(t){var o=n(t),a=function(n){/*#__PURE__*/return e.createElement(p.Consumer,null,function(a){if(null===a)throw new Error("Couldn't find Yandex.Maps API in the context. Make sure that <"+o+" /> is inside <YMaps /> provider");/*#__PURE__*/return e.createElement(t,r({ymaps:a},n))})};return a.displayName="withYMapsContext("+o+")",a}(c)}var l={lang:"ru_RU",load:"",ns:"",mode:"debug"},d={},h=/*#__PURE__*/function(){function e(e){var t=Date.now().toString(32);this.options=e,this.namespace=e.query.ns||l.ns,this.onload="__yandex-maps-api-onload__$$"+t,this.onerror="__yandex-maps-api-onerror__$$"+t}var t=e.prototype;return t.getApi=function(){return"undefined"!=typeof window&&this.namespace?window[this.namespace]:this.api},t.setApi=function(e){return this.api=e},t.getPromise=function(){return this.namespace?d[this.namespace]:this.promise},t.setPromise=function(e){return this.namespace?d[this.namespace]=this.promise=e:this.promise=e},t.load=function(){var e=this;if(this.getApi())return Promise.resolve(this.setApi(this.getApi()));if(this.getPromise())return this.setPromise(this.getPromise());var t=Object.assign({onload:this.onload,onerror:this.onerror},l,this.options.query),n=Object.keys(t).map(function(e){return e+"="+t[e]}).join("&"),o=["https://"+(this.options.enterprise?"enterprise.":"")+"api-maps.yandex.ru",this.options.version,"?"+n].join("/"),r=new Promise(function(t,n){window[e.onload]=function(n){delete window[e.onload],n.loadModule=e.loadModule.bind(e),n.ready(function(){return t(e.setApi(n))})},window[e.onerror]=function(t){delete window[e.onerror],n(t)},e.fetchScript(o).catch(window[e.onerror])});return this.setPromise(r)},t.fetchScript=function(e){var t=this;return new Promise(function(n,o){t.script=document.createElement("script"),t.script.type="text/javascript",t.script.onload=n,t.script.onerror=o,t.script.src=e,t.script.async="async",document.head.appendChild(t.script)})},t.loadModule=function(e){var t=this;return new Promise(function(n,o){t.getApi().modules.require(e,function(o){(function(e,t,n,o){void 0===o&&(o=!1),t="string"==typeof t?t.split("."):t.slice();for(var r,a=e;t.length>1;)a[r=t.shift()]||(a[r]={}),a=a[r];a[t[0]]=!0===o&&a[t[0]]||n})(t.api,e,o,!0),n(o)},o,t.getApi())})},e}();h._name="__react-yandex-maps__";var m=/*#__PURE__*/function(t){function n(e){var n;return(n=t.call(this,e)||this).ymaps=new h(e),n}a(n,t);var o=n.prototype;return o.componentDidMount=function(){!0===this.props.preload&&this.ymaps.load()},o.render=function(){/*#__PURE__*/return e.createElement(p.Provider,{value:this.ymaps},this.props.children)},n}(e.Component);m.propTypes={version:t.string.isRequired,enterprise:t.bool,query:t.shape({lang:t.oneOf(["tr_TR","en_US","en_RU","ru_RU","ru_UA","uk_UA"]),apikey:t.string,coordorder:t.oneOf(["latlong","longlat"]),load:t.string,mode:t.oneOf(["release","debug"]),csp:t.bool,ns:t.string}),children:t.node,preload:t.bool},m.defaultProps={version:"2.1",enterprise:!1,query:{lang:"ru_RU",load:"",ns:""},preload:!1};var y=/^on(?=[A-Z])/;function v(e){return Object.keys(e).reduce(function(t,n){if(y.test(n)){var o=n.replace(y,"").toLowerCase();t._events[o]=e[n]}else t[n]=e[n];return t},{_events:{}})}function O(e,t,n){"function"==typeof n&&e.events.add(t,n)}function b(e,t,n){"function"==typeof n&&e.events.remove(t,n)}function g(e,t,n){Object.keys(Object.assign({},t,n)).forEach(function(o){t[o]!==n[o]&&(b(e,o,t[o]),O(e,o,n[o]))})}var j=function(e){return"default"+e.charAt(0).toUpperCase()+e.slice(1)};function R(e,t){return void 0!==e[t]||void 0===e[j(t)]}function _(e,t,n){return(R(e,t)?e[t]:e[j(t)])||n}function C(e,t,n){if(void 0===n&&(n=null),e!==t){if(e&&(e.hasOwnProperty("current")?e.current=null:"function"==typeof e&&e(null)),!t)return;t.hasOwnProperty("current")?t.current=n:"function"==typeof t&&t(n)}}function E(e){var t=e.width,n=e.height,o=e.style,r=e.className;return void 0!==o||void 0!==r?Object.assign({},o&&{style:o},r&&{className:r}):{style:{width:t,height:n}}}var T=/*#__PURE__*/function(t){function n(){var e;return(e=t.call(this)||this).state={instance:null},e._parentElement=null,e._getRef=function(t){e._parentElement=t},e}a(n,t);var o=n.prototype;return o.componentDidMount=function(){var e=n.mountObject(this._parentElement,this.props.ymaps.Map,this.props);this.setState({instance:e})},o.componentDidUpdate=function(e){null!==this.state.instance&&n.updateObject(this.state.instance,e,this.props)},o.componentWillUnmount=function(){n.unmountObject(this.state.instance,this.props)},o.render=function(){var t=E(this.props),n=v(this.props),o=i(n,["_events","state","defaultState","options","defaultOptions","instanceRef","ymaps","children","width","height","style","className"]);/*#__PURE__*/return e.createElement(u.Provider,{value:this.state.instance},/*#__PURE__*/e.createElement("div",r({ref:this._getRef},t,o),this.props.children))},n.mountObject=function(e,t,n){var o=v(n),r=o.instanceRef,a=o._events,s=new t(e,_(n,"state"),_(n,"options"));return Object.keys(a).forEach(function(e){return O(s,e,a[e])}),C(null,r,s),s},n.updateObject=function(e,t,n){var o=v(n),r=o._events,a=o.instanceRef,s=v(t),i=s._events,p=s.instanceRef;if(R(n,"state")){var u=_(t,"state",{}),c=_(n,"state",{});u.type!==c.type&&e.setType(c.type),u.behaviors!==c.behaviors&&(u.behaviors&&e.behaviors.disable(u.behaviors),c.behaviors&&e.behaviors.enable(c.behaviors)),c.zoom&&u.zoom!==c.zoom&&e.setZoom(c.zoom),c.center&&u.center!==c.center&&e.setCenter(c.center),c.bounds&&u.bounds!==c.bounds&&e.setBounds(c.bounds)}if(R(n,"options")){var f=_(t,"options"),l=_(n,"options",{});f!==l&&e.options.set(l)}_(t,"width")===_(n,"width")&&_(t,"height")===_(n,"height")||e.container.fitToViewport(),g(e,i,r),C(p,a,e)},n.unmountObject=function(e,t){var n=v(t),o=n.instanceRef,r=n._events;null!==e&&(Object.keys(r).forEach(function(t){return b(e,t,r[t])}),e.destroy(),C(o))},n}(e.Component),P={bounds:t.arrayOf(t.arrayOf(t.number)),center:t.arrayOf(t.number),controls:t.arrayOf(t.string),behaviors:t.arrayOf(t.string),margin:t.oneOfType([t.arrayOf(t.number),t.arrayOf(t.arrayOf(t.number))]),type:t.oneOf(["yandex#map","yandex#satellite","yandex#hybrid"]),zoom:t.number},w={};T.propTypes={state:t.shape(P),defaultState:t.shape(P),options:t.shape(w),defaultOptions:t.shape(w),instanceRef:t.func,ymaps:t.object,children:t.node,width:t.oneOfType([t.number,t.string]),height:t.oneOfType([t.number,t.string]),style:t.object,className:t.string},T.defaultProps={width:320,height:240};var S=f(T,!0,["Map"]),M=/*#__PURE__*/function(t){function n(){var e;return(e=t.call(this)||this).state={instance:null},e._parentElement=null,e._getRef=function(t){e._parentElement=t},e}a(n,t);var o=n.prototype;return o.componentDidMount=function(){var e=this;this._mounted=!0,this.props.ymaps.panorama.isSupported()&&n.mountObject(this._parentElement,this.props.ymaps.panorama,this.props).then(function(t){return e._mounted&&e.setState({instance:t})})},o.componentDidUpdate=function(e){null!==this.state.instance&&n.updateObject(this.state.instance,e,this.props)},o.componentWillUnmount=function(){this._mounted=!1,n.unmountObject(this.state.instance,this.props)},o.render=function(){var t=E(this.props);/*#__PURE__*/return e.createElement("div",r({ref:this._getRef},t))},n.mountObject=function(e,t,n){var o=v(n),r=o.instanceRef,a=o._events,s=_(n,"point"),i=_(n,"locateOptions"),p=_(n,"options");return new Promise(function(n,o){t.locate(s,i).done(function(o){if(o.length>0){var s=new t.Player(e,o[0],p);C(null,r,s),Object.keys(a).forEach(function(e){return O(s,e,a[e])}),n(s)}},o)})},n.updateObject=function(e,t,n){var o=v(n),r=o._events,a=o.instanceRef,s=v(t),i=s._events,p=s.instanceRef;if(R(n,"options")){var u=_(t,"options"),c=_(n,"options");u!==c&&e.options.set(c)}if(R(n,"point")){var f=_(n,"point"),l=_(t,"point"),d=_(n,"locateOptions");f!==l&&e.moveTo(f,d)}g(e,i,r),C(p,a,e)},n.unmountObject=function(e,t){var n=v(t),o=n.instanceRef,r=n._events;null!==e&&(Object.keys(r).forEach(function(t){return b(e,t,r[t])}),C(o))},n}(e.Component),x={};M.propTypes={options:t.shape(x),defaultOptions:t.shape(x),point:t.arrayOf(t.number),defaultPoint:t.arrayOf(t.number),locateOptions:t.shape({layer:t.oneOf(["yandex#panorama","yandex#airPanorama"])}),instanceRef:t.func,ymaps:t.object,children:t.node,width:t.oneOfType([t.number,t.string]),height:t.oneOfType([t.number,t.string]),style:t.object,className:t.string},M.defaultProps={width:320,height:240};var D=f(M,!0,["panorama.isSupported","panorama.locate","panorama.createPlayer","panorama.Player"]),k=/*#__PURE__*/function(t){function n(){var e;return(e=t.call(this)||this).state={instance:null},e}a(n,t);var o=n.prototype;return o.componentDidMount=function(){var e=n.mountControl(this.props.ymaps.control[this.props.name],this.props);this.setState({instance:e})},o.componentDidUpdate=function(e){null!==this.state.instance&&n.updateControl(this.state.instance,e,this.props)},o.componentWillUnmount=function(){n.unmountControl(this.state.instance,this.props)},o.render=function(){/*#__PURE__*/return e.createElement(u.Provider,{value:this.state.instance},this.props.children)},n.mountControl=function(e,t){var n=v(t),o=n.instanceRef,r=n.parent,a=n.lazy,s=n._events,i=new e({data:_(t,"data"),options:_(t,"options"),state:_(t,"state"),mapTypes:_(t,"mapTypes"),lazy:a});if(Object.keys(s).forEach(function(e){return O(i,e,s[e])}),r&&r.controls&&"function"==typeof r.controls.add)r.controls.add(i);else{if(!r||!r.add||"function"!=typeof r.add)throw new Error("No parent found to mount "+t.name);r.add(i)}return C(null,o,i),i},n.updateControl=function(e,t,n){var o=v(n),r=o._events,a=o.instanceRef,s=v(t),i=s._events,p=s.instanceRef;if(R(n,"options")){var u=_(t,"options"),c=_(n,"options");u!==c&&e.options.set(c)}if(R(n,"data")){var f=_(t,"data"),l=_(n,"data");f!==l&&e.data.set(l)}if(R(n,"state")){var d=_(t,"state"),h=_(n,"state");d!==h&&e.state.set(h)}if(R(n,"mapTypes")){var m=_(t,"mapTypes"),y=_(n,"mapTypes");m!==y&&(e.removeAllMapTypes(),y.forEach(function(t){return e.addMapType(t)}))}g(e,i,r),C(p,a,e)},n.unmountControl=function(e,t){var n=v(t),o=n.instanceRef,r=n.parent,a=n._events;null!==e&&(Object.keys(a).forEach(function(t){return b(e,t,a[t])}),r.controls&&"function"==typeof r.controls.remove?r.controls.remove(e):r.remove&&"function"==typeof r.remove&&r.remove(e),C(o))},n}(e.Component);function U(t){/*#__PURE__*/return e.createElement(k,r({},t,{name:"Button"}))}k.propTypes={children:t.node,instanceRef:t.func,ymaps:t.object,parent:t.object,name:t.oneOf(["Button","FullscreenControl","GeolocationControl","ListBox","ListBoxItem","RouteButton","RouteEditor","RoutePanel","RulerControl","SearchControl","TrafficControl","TypeSelector","ZoomControl"]).isRequired},U.propTypes={data:t.shape({}),defaultData:t.shape({}),options:t.shape({}),defaultOptions:t.shape({}),state:t.shape({}),defaultState:t.shape({})};var A=c(f(U,!0,["control.Button"]));function B(t){/*#__PURE__*/return e.createElement(k,r({},t,{name:"FullscreenControl"}))}B.propTypes={data:t.shape({}),defaultData:t.shape({}),options:t.shape({}),defaultOptions:t.shape({}),state:t.shape({}),defaultState:t.shape({})};var q=c(f(B,!0,["control.FullscreenControl"]));function G(t){/*#__PURE__*/return e.createElement(k,r({},t,{name:"GeolocationControl"}))}G.propTypes={data:t.shape({}),defaultData:t.shape({}),options:t.shape({}),defaultOptions:t.shape({}),state:t.shape({}),defaultState:t.shape({})};var L=c(f(G,!0,["control.GeolocationControl"]));function F(t){/*#__PURE__*/return e.createElement(k,r({},t,{name:"ListBox"}))}F.propTypes={data:t.shape({}),defaultData:t.shape({}),options:t.shape({}),defaultOptions:t.shape({}),state:t.shape({}),defaultState:t.shape({})};var N=c(f(F,!0,["control.ListBox"]));function Z(t){/*#__PURE__*/return e.createElement(k,r({},t,{name:"ListBoxItem"}))}Z.propTypes={data:t.shape({}),defaultData:t.shape({}),options:t.shape({}),defaultOptions:t.shape({}),state:t.shape({}),defaultState:t.shape({})};var z=c(f(Z,!0,["control.ListBoxItem"]));function W(t){/*#__PURE__*/return e.createElement(k,r({},t,{name:"RouteButton"}))}W.propTypes={data:t.shape({}),defaultData:t.shape({}),options:t.shape({}),defaultOptions:t.shape({}),state:t.shape({}),defaultState:t.shape({})};var I=c(f(W,!0,["control.RouteButton"]));function Y(t){/*#__PURE__*/return e.createElement(k,r({},t,{name:"RouteEditor"}))}Y.propTypes={data:t.shape({}),defaultData:t.shape({}),options:t.shape({}),defaultOptions:t.shape({}),state:t.shape({}),defaultState:t.shape({})};var $=c(f(Y,!0,["control.RouteEditor"]));function V(t){/*#__PURE__*/return e.createElement(k,r({},t,{name:"RoutePanel"}))}V.propTypes={data:t.shape({}),defaultData:t.shape({}),options:t.shape({}),defaultOptions:t.shape({}),state:t.shape({}),defaultState:t.shape({})};var H=c(f(V,!0,["control.RoutePanel"]));function J(t){/*#__PURE__*/return e.createElement(k,r({},t,{name:"RulerControl"}))}J.propTypes={data:t.shape({}),defaultData:t.shape({}),options:t.shape({}),defaultOptions:t.shape({}),state:t.shape({}),defaultState:t.shape({})};var K=c(f(J,!0,["control.RulerControl"]));function Q(t){/*#__PURE__*/return e.createElement(k,r({},t,{name:"SearchControl"}))}Q.propTypes={data:t.shape({}),defaultData:t.shape({}),options:t.shape({}),defaultOptions:t.shape({}),state:t.shape({}),defaultState:t.shape({})};var X=c(f(Q,!0,["control.SearchControl"]));function ee(t){/*#__PURE__*/return e.createElement(k,r({},t,{name:"TrafficControl"}))}ee.propTypes={data:t.shape({}),defaultData:t.shape({}),options:t.shape({}),defaultOptions:t.shape({}),state:t.shape({}),defaultState:t.shape({})};var te=c(f(ee,!0,["control.TrafficControl"]));function ne(t){/*#__PURE__*/return e.createElement(k,r({},t,{name:"TypeSelector"}))}ne.propTypes={mapTypes:t.arrayOf(t.oneOf(["yandex#map","yandex#satellite","yandex#hybrid"])),defaultMapTypes:t.arrayOf(t.oneOf(["yandex#map","yandex#satellite","yandex#hybrid"])),options:t.shape({}),defaultOptions:t.shape({}),state:t.shape({}),defaultState:t.shape({})};var oe=c(f(ne,!0,["control.TypeSelector"]));function re(t){/*#__PURE__*/return e.createElement(k,r({},t,{name:"ZoomControl"}))}re.propTypes={data:t.shape({}),defaultData:t.shape({}),options:t.shape({}),defaultOptions:t.shape({}),state:t.shape({}),defaultState:t.shape({})};var ae=c(f(re,!0,["control.ZoomControl"])),se=/*#__PURE__*/function(t){function n(){var e;return(e=t.call(this)||this).state={instance:null},e}a(n,t);var o=n.prototype;return o.componentDidMount=function(){var e=n.mountObject(this.props.ymaps.Clusterer,this.props);this.setState({instance:e})},o.componentDidUpdate=function(e){null!==this.state.instance&&n.updateObject(this.state.instance,e,this.props)},o.componentWillUnmount=function(){n.unmountObject(this.state.instance,this.props)},o.render=function(){/*#__PURE__*/return e.createElement(u.Provider,{value:this.state.instance},this.props.children)},n.mountObject=function(e,t){var n=v(t),o=n.instanceRef,r=n.parent,a=n._events,s=new e(_(t,"options"));if(Object.keys(a).forEach(function(e){return O(s,e,a[e])}),r.geoObjects&&"function"==typeof r.geoObjects.add)r.geoObjects.add(s);else{if(!r.add||"function"!=typeof r.add)throw new Error("No parent found to mount Clusterer");r.add(s)}return C(null,o,s),s},n.updateObject=function(e,t,n){var o=v(n),r=o._events,a=o.instanceRef,s=v(t),i=s._events,p=s.instanceRef;if(R(n,"options")){var u=_(t,"options"),c=_(n,"options");u!==c&&e.options.set(c)}g(e,i,r),C(p,a,e)},n.unmountObject=function(e,t){var n=v(t),o=n.instanceRef,r=n.parent,a=n._events;null!==e&&(Object.keys(a).forEach(function(t){return b(e,t,a[t])}),r.geoObjects&&"function"==typeof r.geoObjects.remove?r.geoObjects.remove(e):r.remove&&"function"==typeof r.remove&&r.remove(e),C(o))},n}(e.Component);se.propTypes={options:t.shape({}),defaultOptions:t.shape({}),instanceRef:t.func,ymaps:t.object,parent:t.object,children:t.node};var ie=c(f(se,!0,["Clusterer"])),pe=/*#__PURE__*/function(e){function t(){var t;return(t=e.call(this)||this).state={instance:null},t}a(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=t.mountObject(this.props.ymaps.ObjectManager,this.props);this.setState({instance:e})},n.componentDidUpdate=function(e){null!==this.state.instance&&t.updateObject(this.state.instance,e,this.props)},n.componentWillUnmount=function(){t.unmountObject(this.state.instance,this.props)},n.render=function(){return null},t.mountObject=function(e,t){var n=v(t),o=n.instanceRef,r=n.parent,a=n._events,s=_(t,"options",{}),i=_(t,"features",{}),p=_(t,"filter",null),u=_(t,"objects",{}),c=_(t,"clusters",{}),f=new e(s);if(f.add(i||[]),f.setFilter(p),f.objects.options.set(u),f.clusters.options.set(c),Object.keys(a).forEach(function(e){return O(f,e,a[e])}),r.geoObjects&&"function"==typeof r.geoObjects.add)r.geoObjects.add(f);else{if(!r.add||"function"!=typeof r.add)throw new Error("No parent found to mount ObjectManager");r.add(f)}return C(null,o,f),f},t.updateObject=function(e,t,n){var o=v(n),r=o._events,a=o.instanceRef,s=v(t),i=s._events,p=s.instanceRef;if(R(n,"options")){var u=_(t,"options"),c=_(n,"options");u!==c&&e.options.set(c)}if(R(n,"objects")){var f=_(t,"objects"),l=_(n,"objects");f!==l&&e.objects.options.set(l)}if(R(n,"clusters")){var d=_(t,"clusters"),h=_(n,"clusters");d!==h&&e.clusters.options.set(h)}if(R(n,"filter")){var m=_(t,"filter"),y=_(n,"filter");m!==y&&e.setFilter(y)}if(R(n,"features")){var O=_(t,"features"),b=_(n,"features");O!==b&&(e.remove(O),e.add(b))}g(e,i,r),C(p,a,e)},t.unmountObject=function(e,t){var n=v(t),o=n.instanceRef,r=n.parent,a=n._events;null!==e&&(Object.keys(a).forEach(function(t){return b(e,t,a[t])}),r.geoObjects&&"function"==typeof r.geoObjects.remove?r.geoObjects.remove(e):r.remove&&"function"==typeof r.remove&&r.remove(e),C(o))},t}(e.Component),ue=t.shape({id:t.oneOfType([t.number,t.string]).isRequired,type:t.oneOf(["Feature"]).isRequired,geometry:t.object.isRequired,options:t.object,properties:t.object}),ce={type:t.oneOf(["FeatureCollection"]).isRequired};ce.features=t.arrayOf(t.oneOfType([t.shape(ce),ue])).isRequired;var fe=t.shape(ce),le=t.oneOfType([t.arrayOf(t.oneOfType([fe,ue])),fe]),de=t.oneOfType([t.string,t.func]),he=t.shape({}),me=t.shape({}),ye=t.shape({});pe.propTypes={features:le,defaultFeatures:le,filter:de,defaultFilter:de,options:he,defaultOptions:he,objects:me,defaultObjects:me,clusters:ye,defaultClusters:ye,instanceRef:t.func,ymaps:t.object,parent:t.object};var ve=c(f(pe,!0,["ObjectManager"])),Oe=/*#__PURE__*/function(e){function t(){var t;return(t=e.call(this)||this).state={instance:null},t}a(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,n=e.name,o=e.ymaps,r=e.dangerZone,a=t.mountObject(r&&"function"==typeof r.modifyConstructor?r.modifyConstructor(o[n]):o[n],this.props);this.setState({instance:a})},n.componentDidUpdate=function(e){null!==this.state.instance&&t.updateObject(this.state.instance,e,this.props)},n.componentWillUnmount=function(){t.unmountObject(this.state.instance,this.props)},n.render=function(){return null},t.mountObject=function(e,t){var n=v(t),o=n.instanceRef,r=n.parent,a=n._events,s=new e(_(t,"geometry"),_(t,"properties"),_(t,"options"));if(Object.keys(a).forEach(function(e){return O(s,e,a[e])}),r&&r.geoObjects&&"function"==typeof r.geoObjects.add)r.geoObjects.add(s);else{if(!r||!r.add||"function"!=typeof r.add)throw new Error("No parent found to mount "+t.name);r.add(s)}return C(null,o,s),s},t.updateObject=function(e,t,n){var o=v(n),r=o._events,a=o.instanceRef,s=v(t),i=s._events,p=s.instanceRef;if(R(n,"geometry")){var u=_(t,"geometry",{}),c=_(n,"geometry",{});Array.isArray(c)&&c!==u?Array.isArray(c[0])&&"number"==typeof c[1]?(e.geometry.setCoordinates(c[0]),e.geometry.setRadius(c[1])):e.geometry.setCoordinates(c):"object"==typeof c&&(c.coordinates!==u.coordinates&&e.geometry.setCoordinates(c.coordinates),c.radius!==u.radius&&e.geometry.setRadius(c.radius))}if(R(n,"properties")){var f=_(t,"properties"),l=_(n,"properties");f!==l&&e.properties.set(l)}if(R(n,"options")){var d=_(t,"options"),h=_(n,"options");d!==h&&e.options.set(h)}g(e,i,r),C(p,a,e)},t.unmountObject=function(e,t){var n=v(t),o=n.instanceRef,r=n.parent,a=n._events;null!==e&&(Object.keys(a).forEach(function(t){return b(e,t,a[t])}),r.geoObjects&&"function"==typeof r.geoObjects.remove?r.geoObjects.remove(e):r.remove&&"function"==typeof r.remove&&r.remove(e),C(o))},t}(e.Component);Oe.propTypes={instanceRef:t.func,ymaps:t.object,parent:t.object,name:t.oneOf(["GeoObject","Placemark","Polyline","Rectangle","Polygon","Circle"]).isRequired,dangerZone:t.shape({modifyConstructor:t.func})};var be={modifyConstructor:function(e){function t(t,n,o){e.call(this,{geometry:t,properties:n},o)}return t.prototype=e.prototype,t}};function ge(t){/*#__PURE__*/return e.createElement(Oe,r({},t,{name:"GeoObject",dangerZone:be}))}var je=t.shape({type:t.oneOf(["Point","LineString","Rectangle","Polygon","Circle"]).isRequired,coordinates:t.oneOfType([t.arrayOf(t.number),t.arrayOf(t.arrayOf(t.number)),t.arrayOf(t.arrayOf(t.arrayOf(t.number)))]).isRequired,radius:t.number});ge.propTypes={geometry:je,defaultGeometry:je,properties:t.shape({}),defaultProperties:t.shape({}),options:t.shape({}),defaultOptions:t.shape({})};var Re=c(f(ge,!0,["GeoObject"]));function _e(t){/*#__PURE__*/return e.createElement(Oe,r({},t,{name:"Circle"}))}var Ce=t.arrayOf(t.oneOfType([t.number,t.arrayOf(t.number)]));_e.propTypes={geometry:Ce,defaultGeometry:Ce,properties:t.shape({}),defaultProperties:t.shape({}),options:t.shape({}),defaultOptions:t.shape({})};var Ee=c(f(_e,!0,["Circle"]));function Te(t){/*#__PURE__*/return e.createElement(Oe,r({},t,{name:"Placemark"}))}var Pe=t.arrayOf(t.number);Te.propTypes={geometry:Pe,defaultGeometry:Pe,properties:t.shape({}),defaultProperties:t.shape({}),options:t.shape({}),defaultOptions:t.shape({})};var we=c(f(Te,!0,["Placemark"]));function Se(t){/*#__PURE__*/return e.createElement(Oe,r({},t,{name:"Polygon"}))}var Me=t.arrayOf(t.arrayOf(t.arrayOf(t.number)));Se.propTypes={geometry:Me,defaultGeometry:Me,properties:t.shape({}),defaultProperties:t.shape({}),options:t.shape({}),defaultOptions:t.shape({})};var xe=c(f(Se,!0,["Polygon"]));function De(t){/*#__PURE__*/return e.createElement(Oe,r({},t,{name:"Polyline"}))}var ke=t.arrayOf(t.arrayOf(t.number));De.propTypes={geometry:ke,defaultGeometry:ke,properties:t.shape({}),defaultProperties:t.shape({}),options:t.shape({}),defaultOptions:t.shape({})};var Ue=c(f(De,!0,["Polyline"]));function Ae(t){/*#__PURE__*/return e.createElement(Oe,r({},t,{name:"Rectangle"}))}var Be=t.arrayOf(t.arrayOf(t.number));Ae.propTypes={geometry:Be,defaultGeometry:Be,properties:t.shape({}),defaultProperties:t.shape({}),options:t.shape({}),defaultOptions:t.shape({})};var qe=c(f(Ae,!0,["Rectangle"]));export{A as Button,Ee as Circle,ie as Clusterer,q as FullscreenControl,Re as GeoObject,L as GeolocationControl,N as ListBox,z as ListBoxItem,S as Map,ve as ObjectManager,D as Panorama,we as Placemark,xe as Polygon,Ue as Polyline,qe as Rectangle,I as RouteButton,$ as RouteEditor,H as RoutePanel,K as RulerControl,X as SearchControl,te as TrafficControl,oe as TypeSelector,m as YMaps,ae as ZoomControl,f as withYMaps};
//# sourceMappingURL=react-yandex-maps.esm.js.map
