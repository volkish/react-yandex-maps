{"version":3,"file":"react-yandex-maps.js","sources":["../../src/util/omit.js","../../src/Context.js","../../src/withYMaps.js","../../src/util/set.js","../../src/YMaps.js","../../src/Provider.js","../../src/util/events.js","../../src/util/props.js","../../src/util/ref.js","../../src/util/getParentElementSize.js","../../src/Map.js","../../src/Panorama.js","../../src/controls/BaseControl.js","../../src/controls/Button.js","../../src/controls/FullscreenControl.js","../../src/controls/GeolocationControl.js","../../src/controls/ListBox.js","../../src/controls/ListBoxItem.js","../../src/controls/RouteButton.js","../../src/controls/RouteEditor.js","../../src/controls/RoutePanel.js","../../src/controls/RulerControl.js","../../src/controls/SearchControl.js","../../src/controls/TrafficControl.js","../../src/controls/TypeSelector.js","../../src/controls/ZoomControl.js","../../src/clusterization/Clusterer.js","../../src/clusterization/ObjectManager.js","../../src/geo-objects/BaseGeoObject.js","../../src/geo-objects/GeoObject.js","../../src/geo-objects/Circle.js","../../src/geo-objects/Placemark.js","../../src/geo-objects/Polygon.js","../../src/geo-objects/Polyline.js","../../src/geo-objects/Rectangle.js"],"sourcesContent":["/**\r\n * Helper method to remove keys from the object\r\n *\r\n * @param {Object} obj Object to remove keys from\r\n * @param {string[]} arr List of keys to remove\r\n * @returns {Object} Object with omitted keys\r\n */\r\nexport const omit = (obj, arr) => {\r\n  const res = {};\r\n  for (var n in obj) {\r\n    if (arr.indexOf(n) === -1) res[n] = obj[n];\r\n  }\r\n  return res;\r\n};\r\n","import React from 'react';\r\nimport createReactContext from 'create-react-context';\r\nimport name from 'react-display-name';\r\n\r\nexport const YMapsContext = createReactContext(null);\r\n\r\nexport const withYMapsContext = Component => {\r\n  const displayName = name(Component);\r\n\r\n  const WithYMapsContext = props => (\r\n    <YMapsContext.Consumer>\r\n      {ymaps => {\r\n        if (ymaps === null) {\r\n          const message =\r\n            \"Couldn't find Yandex.Maps API in the context. \" +\r\n            `Make sure that <${displayName} /> is inside <YMaps /> provider`;\r\n\r\n          throw new Error(message);\r\n        }\r\n        return <Component ymaps={ymaps} {...props} />;\r\n      }}\r\n    </YMapsContext.Consumer>\r\n  );\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    WithYMapsContext.displayName = `withYMapsContext(${displayName})`;\r\n  }\r\n\r\n  return WithYMapsContext;\r\n};\r\n\r\nexport const ParentContext = createReactContext(null);\r\n\r\nexport const withParentContext = Component => {\r\n  const WithParentContext = props => (\r\n    <ParentContext.Consumer>\r\n      {parent => <Component parent={parent} {...props} />}\r\n    </ParentContext.Consumer>\r\n  );\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    WithParentContext.displayName = `withParentContext(${name(Component)})`;\r\n  }\r\n\r\n  return WithParentContext;\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport name from 'react-display-name';\r\n\r\nimport { omit } from './util/omit';\r\nimport { withYMapsContext } from './Context';\r\n\r\nexport default function withYMaps(Component, waitForApi = false, modules = []) {\r\n  class WithYMaps extends React.Component {\r\n    constructor() {\r\n      super();\r\n\r\n      this.state = { loading: true };\r\n      this._isMounted = false;\r\n    }\r\n\r\n    componentDidMount() {\r\n      this._isMounted = true;\r\n\r\n      this.props.ymaps\r\n        .load()\r\n        .then(api => {\r\n          return Promise.all(\r\n            modules.concat(this.props.modules).map(api.loadModule)\r\n          ).then(() => {\r\n            if (this._isMounted === true) {\r\n              this.setState({ loading: false }, () => {\r\n                this.props.onLoad(api);\r\n              });\r\n            }\r\n          });\r\n        })\r\n        .catch(err => {\r\n          if (this._isMounted === true) {\r\n            this.props.onError(err);\r\n          }\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this._isMounted = false;\r\n    }\r\n\r\n    render() {\r\n      const { ymaps } = this.props;\r\n      const { loading } = this.state;\r\n\r\n      const shouldRender = waitForApi === false || loading === false;\r\n\r\n      const props = omit(this.props, ['onLoad', 'onError', 'modules', 'ymaps']);\r\n\r\n      return shouldRender && <Component ymaps={ymaps.getApi()} {...props} />;\r\n    }\r\n  }\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    WithYMaps.displayName = `withYMaps(${name(Component)})`;\r\n\r\n    WithYMaps.propTypes = {\r\n      onLoad: PropTypes.func,\r\n      onError: PropTypes.func,\r\n      modules: PropTypes.arrayOf(PropTypes.string),\r\n      ymaps: PropTypes.object,\r\n    };\r\n  }\r\n\r\n  WithYMaps.defaultProps = {\r\n    onLoad: Function.prototype,\r\n    onError: Function.prototype,\r\n    modules: [],\r\n  };\r\n\r\n  return withYMapsContext(WithYMaps);\r\n}\r\n","/**\r\n * Set value in object by path\r\n *\r\n * @param {Object} object Object to set value to\r\n * @param {string | string[]} path Path to value\r\n * @param {any} value Value\r\n * @param {boolean} [ifNotExists] Will skip setting value if value exists\r\n */\r\nconst set = (object, path, value, ifNotExists = false) => {\r\n  path = typeof path === 'string' ? path.split('.') : path.slice();\r\n  let key,\r\n    ref = object;\r\n  while (path.length > 1) {\r\n    key = path.shift();\r\n    if (!ref[key]) ref[key] = {};\r\n    ref = ref[key];\r\n  }\r\n  ref[path[0]] = ifNotExists === true ? ref[path[0]] || value : value;\r\n  return object;\r\n};\r\n\r\nexport default set;\r\n","import set from './util/set';\r\n\r\nconst YMAPS_ONLOAD = '__yandex-maps-api-onload__';\r\n\r\nconst YMAPS_ONERROR = '__yandex-maps-api-onerror__';\r\n\r\nfunction getBaseUrl(isEnterprise) {\r\n  return `https://${isEnterprise ? 'enterprise.' : ''}api-maps.yandex.ru`;\r\n}\r\n\r\nconst YMAPS_DEFAULT_QUERY = {\r\n  lang: 'ru_RU',\r\n  load: '',\r\n  ns: '',\r\n  mode: process.env.NODE_ENV !== 'production' ? 'debug' : 'release',\r\n};\r\n\r\nconst PROMISES = {};\r\n\r\nexport class YMaps {\r\n  constructor(options) {\r\n    const hash = Date.now().toString(32);\r\n\r\n    this.options = options;\r\n    this.namespace = options.query.ns || YMAPS_DEFAULT_QUERY.ns;\r\n\r\n    this.onload = YMAPS_ONLOAD + '$$' + hash;\r\n    this.onerror = YMAPS_ONERROR + '$$' + hash;\r\n\r\n    this.api;\r\n    this.promise;\r\n  }\r\n\r\n  getApi() {\r\n    return typeof window !== 'undefined' && this.namespace\r\n      ? window[this.namespace]\r\n      : this.api;\r\n  }\r\n\r\n  setApi(api) {\r\n    return (this.api = api);\r\n  }\r\n\r\n  getPromise() {\r\n    return this.namespace ? PROMISES[this.namespace] : this.promise;\r\n  }\r\n\r\n  setPromise(promise) {\r\n    return this.namespace\r\n      ? (PROMISES[this.namespace] = this.promise = promise)\r\n      : (this.promise = promise);\r\n  }\r\n\r\n  load() {\r\n    if (this.getApi()) return Promise.resolve(this.setApi(this.getApi()));\r\n    if (this.getPromise()) return this.setPromise(this.getPromise());\r\n\r\n    const query = Object.assign(\r\n      {\r\n        onload: this.onload,\r\n        onerror: this.onerror,\r\n      },\r\n      YMAPS_DEFAULT_QUERY,\r\n      this.options.query\r\n    );\r\n\r\n    const queryString = Object.keys(query)\r\n      .map(key => `${key}=${query[key]}`)\r\n      .join('&');\r\n\r\n    const baseUrl = getBaseUrl(this.options.enterprise);\r\n\r\n    const url = [baseUrl, this.options.version, '?' + queryString].join('/');\r\n\r\n    const promise = new Promise((resolve, reject) => {\r\n      window[this.onload] = ymaps => {\r\n        delete window[this.onload];\r\n        ymaps.loadModule = this.loadModule.bind(this);\r\n        ymaps.ready(() => resolve(this.setApi(ymaps)));\r\n      };\r\n\r\n      window[this.onerror] = err => {\r\n        delete window[this.onerror];\r\n        reject(err);\r\n      };\r\n\r\n      this.fetchScript(url).catch(window[this.onerror]);\r\n    });\r\n\r\n    return this.setPromise(promise);\r\n  }\r\n\r\n  fetchScript(url) {\r\n    return new Promise((resolve, reject) => {\r\n      this.script = document.createElement('script');\r\n\r\n      this.script.type = 'text/javascript';\r\n      this.script.onload = resolve;\r\n      this.script.onerror = reject;\r\n      this.script.src = url;\r\n      this.script.async = 'async';\r\n\r\n      document.head.appendChild(this.script);\r\n    });\r\n  }\r\n\r\n  loadModule(moduleName) {\r\n    return new Promise((resolve, reject) => {\r\n      this.getApi().modules.require(\r\n        moduleName,\r\n        Module => {\r\n          set(this.api, moduleName, Module, true);\r\n          resolve(Module);\r\n        },\r\n        reject,\r\n        this.getApi()\r\n      );\r\n    });\r\n  }\r\n}\r\n\r\nYMaps._name = '__react-yandex-maps__';\r\n","/* global __DOCZ__ */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { YMapsContext } from './Context';\r\nimport { YMaps } from './YMaps';\r\n\r\nexport default class Provider extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.ymaps = new YMaps(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.preload === true) {\r\n      this.ymaps.load();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <YMapsContext.Provider value={this.ymaps}>\r\n        {this.props.children}\r\n      </YMapsContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  Provider.propTypes = {\r\n    version: PropTypes.string.isRequired,\r\n    enterprise: PropTypes.bool,\r\n\r\n    // Yandex.Maps API avaliable query params\r\n    // https://tech.yandex.com/maps/doc/jsapi/2.1/dg/concepts/load-docpage/\r\n    // Some query params will be omitted in any case because they are used\r\n    // by the library: onload, onerror\r\n    query: PropTypes.shape({\r\n      lang: PropTypes.oneOf([\r\n        'tr_TR',\r\n        'en_US',\r\n        'en_RU',\r\n        'ru_RU',\r\n        'ru_UA',\r\n        'uk_UA',\r\n      ]),\r\n      apikey: PropTypes.string,\r\n      coordorder: PropTypes.oneOf(['latlong', 'longlat']),\r\n      load: PropTypes.string,\r\n      mode: PropTypes.oneOf(['release', 'debug']),\r\n      csp: PropTypes.bool,\r\n      ns: PropTypes.string,\r\n    }),\r\n\r\n    children: PropTypes.node,\r\n\r\n    // Allows provider to preload Yandex.Maps API even if\r\n    // there are no map components on the page\r\n    preload: PropTypes.bool,\r\n  };\r\n}\r\n\r\nProvider.defaultProps = {\r\n  version: '2.1',\r\n  enterprise: false,\r\n  query: {\r\n    lang: 'ru_RU',\r\n    load: '',\r\n    ns: __DOCZ__ === true ? '__docz_default_ymaps_namespace__' : '',\r\n  },\r\n  preload: false,\r\n};\r\n","const EVENTS_REGEX = /^on(?=[A-Z])/;\r\n\r\n/**\r\n * Separates YMaps events from other component props based on prop name\r\n *\r\n * @param {Object} props Component props\r\n * @returns {Object} Separated _event props and other component props\r\n */\r\nexport function separateEvents(props) {\r\n  return Object.keys(props).reduce(\r\n    (acc, key) => {\r\n      if (EVENTS_REGEX.test(key)) {\r\n        const eventName = key.replace(EVENTS_REGEX, '').toLowerCase();\r\n        acc._events[eventName] = props[key];\r\n      } else {\r\n        acc[key] = props[key];\r\n      }\r\n\r\n      return acc;\r\n    },\r\n    { _events: {} }\r\n  );\r\n}\r\n\r\n/**\r\n * Adds event to YMaps object\r\n *\r\n * @param {Object} instance YMaps object instance\r\n * @param {string} eventName Event name (e.g., \"onclick\", \"ontouchstart\")\r\n * @param {Function} handler Event handler method\r\n */\r\nexport function addEvent(instance, eventName, handler) {\r\n  if (typeof handler === 'function') {\r\n    instance.events.add(eventName, handler);\r\n  }\r\n}\r\n\r\n/**\r\n * Removes event from YMaps object\r\n *\r\n * @param {Object} instance YMaps object instance\r\n * @param {string} eventName Event name (e.g., \"onclick\", \"ontouchstart\")\r\n * @param {Function} handler Event handler method\r\n */\r\nexport function removeEvent(instance, eventName, handler) {\r\n  if (typeof handler === 'function') {\r\n    instance.events.remove(eventName, handler);\r\n  }\r\n}\r\n\r\n/**\r\n * Given two objects with new and old events, checks if event was\r\n * changed and updates it by removing the old one and adding the\r\n * new one\r\n *\r\n * @param {Object} instance YMaps object instance\r\n * @param {Object} oldEvents Map of old events\r\n * @param {Object} newEvents Map of new events\r\n */\r\nexport function updateEvents(instance, oldEvents, newEvents) {\r\n  Object.keys(Object.assign({}, oldEvents, newEvents)).forEach(eventName => {\r\n    if (oldEvents[eventName] !== newEvents[eventName]) {\r\n      removeEvent(instance, eventName, oldEvents[eventName]);\r\n      addEvent(instance, eventName, newEvents[eventName]);\r\n    }\r\n  });\r\n}\r\n","const defaultName = name =>\r\n  'default' + name.charAt(0).toUpperCase() + name.slice(1);\r\n\r\n/**\r\n * Checks if key exists on an object\r\n *\r\n * @param {Object} props Component props\r\n * @param {string} key Prop key\r\n * @returns {boolean} Check result\r\n */\r\nexport function isControlledProp(props, key) {\r\n  return props[key] !== undefined || props[defaultName(key)] === undefined;\r\n}\r\n\r\n/**\r\n * Checks if prop exists, otherwise returns \"uncontrolled\"\r\n * prop that starts with default (e.g., defaultValue)\r\n *\r\n * @param {Object} props Component props\r\n * @param {string} key Prop key\r\n * @param {any} defaultValue\r\n * @return {any} Prop value\r\n */\r\nexport function getProp(props, key, defaultValue) {\r\n  return (\r\n    (isControlledProp(props, key) ? props[key] : props[defaultName(key)]) ||\r\n    defaultValue\r\n  );\r\n}\r\n","/**\r\n * Mimics React ref behavior. First cleans oldRef, if possible, then applies new ref value\r\n * https://reactjs.org/docs/refs-and-the-dom.html#caveats-with-callback-refs\r\n *\r\n * @param {Object<{current: T}> | Function} oldRef\r\n * @param {Object<{current: T}> | Function?} newRef\r\n * @param {T?} value\r\n */\r\nexport default function applyRef(oldRef, newRef, value = null) {\r\n  if (oldRef !== newRef) {\r\n    if (oldRef) {\r\n      if (oldRef.hasOwnProperty('current')) {\r\n        oldRef.current = null;\r\n      } else if (typeof oldRef === 'function') {\r\n        oldRef(null);\r\n      }\r\n    }\r\n\r\n    if (!newRef) return;\r\n\r\n    if (newRef.hasOwnProperty('current')) {\r\n      newRef.current = value;\r\n    } else if (typeof newRef === 'function') {\r\n      newRef(value);\r\n    }\r\n  }\r\n}\r\n","/**\r\n * Return style object depends on props\r\n *\r\n * @param {Object} props Component props\r\n * @returns {Object} Style object result\r\n */\r\nexport default function getParentElementSize(props) {\r\n  const { width, height, style, className } = props;\r\n\r\n  if (typeof style !== 'undefined' || typeof className !== 'undefined') {\r\n    return Object.assign({}, style && { style }, className && { className });\r\n  }\r\n\r\n  return { style: { width, height } };\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport * as events from './util/events';\r\nimport { omit } from './util/omit';\r\nimport { getProp, isControlledProp } from './util/props';\r\nimport withYMaps from './withYMaps';\r\nimport { ParentContext } from './Context';\r\nimport applyRef from './util/ref';\r\nimport getParentElementSize from './util/getParentElementSize';\r\n\r\nexport class Map extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = { instance: null };\r\n    this._parentElement = null;\r\n    this._getRef = ref => {\r\n      this._parentElement = ref;\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const instance = Map.mountObject(\r\n      this._parentElement,\r\n      this.props.ymaps.Map,\r\n      this.props\r\n    );\r\n\r\n    this.setState({ instance });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.state.instance !== null) {\r\n      Map.updateObject(this.state.instance, prevProps, this.props);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    Map.unmountObject(this.state.instance, this.props);\r\n  }\r\n\r\n  render() {\r\n    const parentElementStyle = getParentElementSize(this.props);\r\n    const separatedProps = events.separateEvents(this.props);\r\n\r\n    const parentElementProps = omit(separatedProps, [\r\n      '_events',\r\n      'state',\r\n      'defaultState',\r\n      'options',\r\n      'defaultOptions',\r\n      'instanceRef',\r\n      'ymaps',\r\n      'children',\r\n      'width',\r\n      'height',\r\n      'style',\r\n      'className',\r\n    ]);\r\n\r\n    return (\r\n      <ParentContext.Provider value={this.state.instance}>\r\n        <div ref={this._getRef} {...parentElementStyle} {...parentElementProps}>\r\n          {this.props.children}\r\n        </div>\r\n      </ParentContext.Provider>\r\n    );\r\n  }\r\n\r\n  static mountObject(parentElement, Map, props) {\r\n    const { instanceRef, _events } = events.separateEvents(props);\r\n\r\n    const state = getProp(props, 'state');\r\n    const options = getProp(props, 'options');\r\n\r\n    const instance = new Map(parentElement, state, options);\r\n\r\n    Object.keys(_events).forEach(key =>\r\n      events.addEvent(instance, key, _events[key])\r\n    );\r\n\r\n    applyRef(null, instanceRef, instance);\r\n\r\n    return instance;\r\n  }\r\n\r\n  static updateObject(instance, oldProps, newProps) {\r\n    const { _events: newEvents, instanceRef } = events.separateEvents(newProps);\r\n    const { _events: oldEvents, instanceRef: oldRef } = events.separateEvents(\r\n      oldProps\r\n    );\r\n\r\n    if (isControlledProp(newProps, 'state')) {\r\n      const oldState = getProp(oldProps, 'state', {});\r\n      const newState = getProp(newProps, 'state', {});\r\n\r\n      if (oldState.type !== newState.type) {\r\n        instance.setType(newState.type);\r\n      }\r\n\r\n      if (oldState.behaviors !== newState.behaviors) {\r\n        if (oldState.behaviors) instance.behaviors.disable(oldState.behaviors);\r\n        if (newState.behaviors) instance.behaviors.enable(newState.behaviors);\r\n      }\r\n\r\n      if (newState.zoom && oldState.zoom !== newState.zoom) {\r\n        instance.setZoom(newState.zoom);\r\n      }\r\n\r\n      if (newState.center && oldState.center !== newState.center) {\r\n        instance.setCenter(newState.center);\r\n      }\r\n\r\n      if (newState.bounds && oldState.bounds !== newState.bounds) {\r\n        instance.setBounds(newState.bounds);\r\n      }\r\n    }\r\n\r\n    if (isControlledProp(newProps, 'options')) {\r\n      const oldOptions = getProp(oldProps, 'options');\r\n      const newOptions = getProp(newProps, 'options', {});\r\n\r\n      if (oldOptions !== newOptions) {\r\n        instance.options.set(newOptions);\r\n      }\r\n    }\r\n\r\n    if (\r\n      getProp(oldProps, 'width') !== getProp(newProps, 'width') ||\r\n      getProp(oldProps, 'height') !== getProp(newProps, 'height')\r\n    ) {\r\n      instance.container.fitToViewport();\r\n    }\r\n\r\n    events.updateEvents(instance, oldEvents, newEvents);\r\n\r\n    applyRef(oldRef, instanceRef, instance);\r\n  }\r\n\r\n  static unmountObject(instance, props) {\r\n    const { instanceRef, _events } = events.separateEvents(props);\r\n\r\n    if (instance !== null) {\r\n      Object.keys(_events).forEach(key =>\r\n        events.removeEvent(instance, key, _events[key])\r\n      );\r\n\r\n      instance.destroy();\r\n\r\n      // Clean used ref\r\n      applyRef(instanceRef);\r\n    }\r\n  }\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  const MapStatePropTypes = {\r\n    bounds: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number)),\r\n    center: PropTypes.arrayOf(PropTypes.number),\r\n    controls: PropTypes.arrayOf(PropTypes.string),\r\n    behaviors: PropTypes.arrayOf(PropTypes.string),\r\n    margin: PropTypes.oneOfType([\r\n      PropTypes.arrayOf(PropTypes.number),\r\n      PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number)),\r\n    ]),\r\n    type: PropTypes.oneOf(['yandex#map', 'yandex#satellite', 'yandex#hybrid']),\r\n    zoom: PropTypes.number,\r\n  };\r\n\r\n  // TODO: https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Map-docpage/\r\n  const MapOptionsPropTypes = {};\r\n\r\n  Map.propTypes = {\r\n    /**\r\n     * [Map state parameters](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Map-docpage/#param-state)\r\n     */\r\n    state: PropTypes.shape(MapStatePropTypes),\r\n    /**\r\n     * Uncontrolled [Map state parameters](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Map-docpage/#param-state)\r\n     */\r\n    defaultState: PropTypes.shape(MapStatePropTypes),\r\n\r\n    /**\r\n     * [Map options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Map-docpage/#Map__param-options)\r\n     */\r\n    options: PropTypes.shape(MapOptionsPropTypes),\r\n    /**\r\n     * Uncontrolled [Map options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Map-docpage/#Map__param-options)\r\n     */\r\n    defaultOptions: PropTypes.shape(MapOptionsPropTypes),\r\n\r\n    /**\r\n     * YMaps object ref\r\n     */\r\n    instanceRef: PropTypes.func,\r\n\r\n    ymaps: PropTypes.object,\r\n\r\n    children: PropTypes.node,\r\n\r\n    /**\r\n     * Yandex.Maps Map parent element should have at least\r\n     * some size set to it, otherwise the map is rendered\r\n     * into the container with size 0\r\n     *\r\n     * To avoid this we will use `width` and `height` props as default\r\n     * way of sizing the map element, but then if we see that\r\n     * the library user also provides `style` or `className` prop,\r\n     * we will assume that the Map is sized by those and will\r\n     * not use these\r\n     */\r\n\r\n    /**\r\n     * Map container width\r\n     */\r\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n\r\n    /**\r\n     * Map container height\r\n     */\r\n    height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n\r\n    /**\r\n     * Map container style\r\n     */\r\n    style: PropTypes.object,\r\n\r\n    /**\r\n     * Map container className\r\n     */\r\n    className: PropTypes.string,\r\n  };\r\n}\r\n\r\nMap.defaultProps = {\r\n  width: 320,\r\n  height: 240,\r\n};\r\n\r\nexport default withYMaps(Map, true, ['Map']);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { getProp, isControlledProp } from './util/props';\r\nimport withYMaps from './withYMaps';\r\nimport * as events from './util/events';\r\nimport applyRef from './util/ref';\r\nimport getParentElementSize from './util/getParentElementSize';\r\n\r\nexport class Panorama extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = { instance: null };\r\n    this._parentElement = null;\r\n    this._getRef = ref => {\r\n      this._parentElement = ref;\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._mounted = true;\r\n\r\n    if (!this.props.ymaps.panorama.isSupported()) {\r\n      return;\r\n    }\r\n\r\n    Panorama.mountObject(\r\n      this._parentElement,\r\n      this.props.ymaps.panorama,\r\n      this.props\r\n    ).then(instance => this._mounted && this.setState({ instance }));\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.state.instance !== null) {\r\n      Panorama.updateObject(this.state.instance, prevProps, this.props);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._mounted = false;\r\n    Panorama.unmountObject(this.state.instance, this.props);\r\n  }\r\n\r\n  render() {\r\n    const parentElementStyle = getParentElementSize(this.props);\r\n\r\n    return <div ref={this._getRef} {...parentElementStyle} />;\r\n  }\r\n\r\n  static mountObject(parentElement, panorama, props) {\r\n    const { instanceRef, _events } = events.separateEvents(props);\r\n\r\n    const point = getProp(props, 'point');\r\n    const locateOptions = getProp(props, 'locateOptions');\r\n    const options = getProp(props, 'options');\r\n\r\n    return new Promise((resolve, reject) => {\r\n      panorama.locate(point, locateOptions).done(panoramas => {\r\n        if (panoramas.length > 0) {\r\n          const instance = new panorama.Player(\r\n            parentElement,\r\n            panoramas[0],\r\n            options\r\n          );\r\n\r\n          applyRef(null, instanceRef, instance);\r\n\r\n          Object.keys(_events).forEach(key =>\r\n            events.addEvent(instance, key, _events[key])\r\n          );\r\n\r\n          resolve(instance);\r\n        }\r\n      }, reject);\r\n    });\r\n  }\r\n\r\n  static updateObject(instance, oldProps, newProps) {\r\n    const { _events: newEvents, instanceRef } = events.separateEvents(newProps);\r\n    const { _events: oldEvents, instanceRef: oldRef } = events.separateEvents(\r\n      oldProps\r\n    );\r\n\r\n    if (isControlledProp(newProps, 'options')) {\r\n      const oldOptions = getProp(oldProps, 'options');\r\n      const newOptions = getProp(newProps, 'options');\r\n\r\n      if (oldOptions !== newOptions) {\r\n        instance.options.set(newOptions);\r\n      }\r\n    }\r\n\r\n    if (isControlledProp(newProps, 'point')) {\r\n      const point = getProp(newProps, 'point');\r\n      const oldPoint = getProp(oldProps, 'point');\r\n      const locateOptions = getProp(newProps, 'locateOptions');\r\n\r\n      if (point !== oldPoint) {\r\n        instance.moveTo(point, locateOptions);\r\n      }\r\n    }\r\n\r\n    events.updateEvents(instance, oldEvents, newEvents);\r\n\r\n    applyRef(oldRef, instanceRef, instance);\r\n  }\r\n\r\n  static unmountObject(instance, props) {\r\n    const { instanceRef, _events } = events.separateEvents(props);\r\n\r\n    if (instance !== null) {\r\n      Object.keys(_events).forEach(key =>\r\n        events.removeEvent(instance, key, _events[key])\r\n      );\r\n\r\n      // Clean used ref\r\n      applyRef(instanceRef);\r\n    }\r\n  }\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  const PanoramaOptionsPropTypes = {};\r\n\r\n  Panorama.propTypes = {\r\n    /**\r\n     * [Panorama options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/panorama.Player-docpage/#panorama.Player__param-options)\r\n     */\r\n    options: PropTypes.shape(PanoramaOptionsPropTypes),\r\n    /**\r\n     * Uncontrolled [Panorama options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/panorama.Player-docpage/#panorama.Player__param-options)\r\n     */\r\n    defaultOptions: PropTypes.shape(PanoramaOptionsPropTypes),\r\n\r\n    /**\r\n     * The point for searching for nearby panoramas.\r\n     */\r\n    point: PropTypes.arrayOf(PropTypes.number),\r\n    /**\r\n     * Uncontrolled point for searching for nearby panoramas.\r\n     */\r\n    defaultPoint: PropTypes.arrayOf(PropTypes.number),\r\n\r\n    /**\r\n     * Panorama [locate options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/panorama.locate-docpage/#panorama.locate__param-options)\r\n     */\r\n    locateOptions: PropTypes.shape({\r\n      layer: PropTypes.oneOf(['yandex#panorama', 'yandex#airPanorama']),\r\n    }),\r\n\r\n    /**\r\n     * YMaps object ref\r\n     */\r\n    instanceRef: PropTypes.func,\r\n\r\n    ymaps: PropTypes.object,\r\n\r\n    children: PropTypes.node,\r\n\r\n    /**\r\n     * Yandex.Maps Panorama parent element should have at least\r\n     * some size set to it, otherwise the panorama is rendered\r\n     * into the container with size 0\r\n     *\r\n     * To avoid this we will use `width` and `height` props as default\r\n     * way of sizing the panorama element, but then if we see that\r\n     * the library user also provides `style` or `className` prop,\r\n     * we will assume that the panorama is sized by those and will\r\n     * not use these\r\n     */\r\n\r\n    /**\r\n     * Panorama container width\r\n     */\r\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n\r\n    /**\r\n     * Panorama container height\r\n     */\r\n    height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n\r\n    /**\r\n     * Panorama container style\r\n     */\r\n    style: PropTypes.object,\r\n\r\n    /**\r\n     * Panorama container className\r\n     */\r\n    className: PropTypes.string,\r\n  };\r\n}\r\n\r\nPanorama.defaultProps = {\r\n  width: 320,\r\n  height: 240,\r\n};\r\n\r\nexport default withYMaps(Panorama, true, [\r\n  'panorama.isSupported',\r\n  'panorama.locate',\r\n  'panorama.createPlayer',\r\n  'panorama.Player',\r\n]);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport * as events from '../util/events';\r\nimport { getProp, isControlledProp } from '../util/props';\r\nimport { ParentContext } from '../Context';\r\nimport applyRef from '../util/ref';\r\n\r\nexport class BaseControl extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = { instance: null };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const instance = BaseControl.mountControl(\r\n      this.props.ymaps.control[this.props.name],\r\n      this.props\r\n    );\r\n\r\n    this.setState({ instance });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.state.instance !== null) {\r\n      BaseControl.updateControl(this.state.instance, prevProps, this.props);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    BaseControl.unmountControl(this.state.instance, this.props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <ParentContext.Provider value={this.state.instance}>\r\n        {this.props.children}\r\n      </ParentContext.Provider>\r\n    );\r\n  }\r\n\r\n  static mountControl(Control, props) {\r\n    const { instanceRef, parent, lazy, _events } = events.separateEvents(props);\r\n\r\n    const data = getProp(props, 'data');\r\n    const options = getProp(props, 'options');\r\n    const state = getProp(props, 'state');\r\n    const mapTypes = getProp(props, 'mapTypes');\r\n\r\n    const instance = new Control({ data, options, state, mapTypes, lazy });\r\n\r\n    Object.keys(_events).forEach(key =>\r\n      events.addEvent(instance, key, _events[key])\r\n    );\r\n\r\n    if (\r\n      parent &&\r\n      parent.controls &&\r\n      typeof parent.controls.add === 'function'\r\n    ) {\r\n      parent.controls.add(instance);\r\n    } else if (parent && parent.add && typeof parent.add === 'function') {\r\n      parent.add(instance);\r\n    } else {\r\n      throw new Error(`No parent found to mount ${props.name}`);\r\n    }\r\n\r\n    applyRef(null, instanceRef, instance);\r\n\r\n    return instance;\r\n  }\r\n\r\n  static updateControl(instance, oldProps, newProps) {\r\n    const { _events: newEvents, instanceRef } = events.separateEvents(newProps);\r\n    const { _events: oldEvents, instanceRef: oldRef } = events.separateEvents(\r\n      oldProps\r\n    );\r\n\r\n    if (isControlledProp(newProps, 'options')) {\r\n      const oldOptions = getProp(oldProps, 'options');\r\n      const newOptions = getProp(newProps, 'options');\r\n\r\n      if (oldOptions !== newOptions) {\r\n        instance.options.set(newOptions);\r\n      }\r\n    }\r\n\r\n    if (isControlledProp(newProps, 'data')) {\r\n      const oldData = getProp(oldProps, 'data');\r\n      const newData = getProp(newProps, 'data');\r\n\r\n      if (oldData !== newData) {\r\n        instance.data.set(newData);\r\n      }\r\n    }\r\n\r\n    if (isControlledProp(newProps, 'state')) {\r\n      const oldState = getProp(oldProps, 'state');\r\n      const newState = getProp(newProps, 'state');\r\n\r\n      if (oldState !== newState) {\r\n        instance.state.set(newState);\r\n      }\r\n    }\r\n\r\n    if (isControlledProp(newProps, 'mapTypes')) {\r\n      const oldMapTypes = getProp(oldProps, 'mapTypes');\r\n      const newMapTypes = getProp(newProps, 'mapTypes');\r\n\r\n      if (oldMapTypes !== newMapTypes) {\r\n        instance.removeAllMapTypes();\r\n        newMapTypes.forEach(type => instance.addMapType(type));\r\n      }\r\n    }\r\n\r\n    events.updateEvents(instance, oldEvents, newEvents);\r\n\r\n    applyRef(oldRef, instanceRef, instance);\r\n  }\r\n\r\n  static unmountControl(instance, props) {\r\n    const { instanceRef, parent, _events } = events.separateEvents(props);\r\n\r\n    if (instance !== null) {\r\n      Object.keys(_events).forEach(key =>\r\n        events.removeEvent(instance, key, _events[key])\r\n      );\r\n\r\n      if (parent.controls && typeof parent.controls.remove === 'function') {\r\n        parent.controls.remove(instance);\r\n      } else if (parent.remove && typeof parent.remove === 'function') {\r\n        parent.remove(instance);\r\n      }\r\n\r\n      applyRef(instanceRef);\r\n    }\r\n  }\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  BaseControl.propTypes = {\r\n    children: PropTypes.node,\r\n\r\n    /** ref prop but for Yandex.Maps object instances */\r\n    instanceRef: PropTypes.func,\r\n\r\n    /** Yandex.Maps API object */\r\n    ymaps: PropTypes.object,\r\n\r\n    /** Parent object (e.g, ymaps.Map or ymaps.Clusterer) */\r\n    parent: PropTypes.object,\r\n\r\n    /** Control name */\r\n    name: PropTypes.oneOf([\r\n      'Button',\r\n      'FullscreenControl',\r\n      'GeolocationControl',\r\n      'ListBox',\r\n      'ListBoxItem',\r\n      'RouteButton',\r\n      'RouteEditor',\r\n      'RoutePanel',\r\n      'RulerControl',\r\n      'SearchControl',\r\n      'TrafficControl',\r\n      'TypeSelector',\r\n      'ZoomControl',\r\n    ]).isRequired,\r\n  };\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\n\r\nimport { BaseControl } from './BaseControl';\r\n\r\nexport function Button(props) {\r\n  return <BaseControl {...props} name=\"Button\" />;\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  Button.propTypes = {\r\n    /**\r\n     * Control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.Button-docpage/#control.Button__param-parameters.data)\r\n     */\r\n    data: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.Button-docpage/#control.Button__param-parameters.data)\r\n     */\r\n    defaultData: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.Button-docpage/#control.Button__param-parameters.options)\r\n     */\r\n    options: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.Button-docpage/#control.Button__param-parameters.options)\r\n     */\r\n    defaultOptions: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.Button-docpage/#control.Button__param-parameters.state)\r\n     */\r\n    state: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.Button-docpage/#control.Button__param-parameters.state)\r\n     */\r\n    defaultState: PropTypes.shape({}),\r\n  };\r\n}\r\n\r\nexport default withParentContext(withYMaps(Button, true, [`control.Button`]));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\n\r\nimport { BaseControl } from './BaseControl';\r\n\r\nexport function FullscreenControl(props) {\r\n  return <BaseControl {...props} name=\"FullscreenControl\" />;\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  FullscreenControl.propTypes = {\r\n    /**\r\n     * Control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.FullscreenControl-docpage/#control.FullscreenControl__param-parameters.data)\r\n     */\r\n    data: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.FullscreenControl-docpage/#control.FullscreenControl__param-parameters.data)\r\n     */\r\n    defaultData: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.FullscreenControl-docpage/#control.FullscreenControl__param-parameters.options)\r\n     */\r\n    options: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.FullscreenControl-docpage/#control.FullscreenControl__param-parameters.options)\r\n     */\r\n    defaultOptions: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.FullscreenControl-docpage/#control.FullscreenControl__param-parameters.state)\r\n     */\r\n    state: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.FullscreenControl-docpage/#control.FullscreenControl__param-parameters.state)\r\n     */\r\n    defaultState: PropTypes.shape({}),\r\n  };\r\n}\r\n\r\nexport default withParentContext(\r\n  withYMaps(FullscreenControl, true, [`control.FullscreenControl`])\r\n);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\n\r\nimport { BaseControl } from './BaseControl';\r\n\r\nexport function GeolocationControl(props) {\r\n  return <BaseControl {...props} name=\"GeolocationControl\" />;\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  GeolocationControl.propTypes = {\r\n    /**\r\n     * Control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.GeolocationControl-docpage/#control.GeolocationControl__param-parameters.data)\r\n     */\r\n    data: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.GeolocationControl-docpage/#control.GeolocationControl__param-parameters.data)\r\n     */\r\n    defaultData: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.GeolocationControl-docpage/#control.GeolocationControl__param-parameters.options)\r\n     */\r\n    options: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.GeolocationControl-docpage/#control.GeolocationControl__param-parameters.options)\r\n     */\r\n    defaultOptions: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.GeolocationControl-docpage/#control.GeolocationControl__param-parameters.state)\r\n     */\r\n    state: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.GeolocationControl-docpage/#control.GeolocationControl__param-parameters.state)\r\n     */\r\n    defaultState: PropTypes.shape({}),\r\n  };\r\n}\r\n\r\nexport default withParentContext(\r\n  withYMaps(GeolocationControl, true, [`control.GeolocationControl`])\r\n);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\n\r\nimport { BaseControl } from './BaseControl';\r\n\r\nexport function ListBox(props) {\r\n  return <BaseControl {...props} name=\"ListBox\" />;\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  ListBox.propTypes = {\r\n    /**\r\n     * Control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.ListBox-docpage/#control.ListBox__param-parameters.data)\r\n     */\r\n    data: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.ListBox-docpage/#control.ListBox__param-parameters.data)\r\n     */\r\n    defaultData: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.ListBox-docpage/#control.ListBox__param-parameters.options)\r\n     */\r\n    options: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.ListBox-docpage/#control.ListBox__param-parameters.options)\r\n     */\r\n    defaultOptions: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.ListBox-docpage/#control.ListBox__param-parameters.state)\r\n     */\r\n    state: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.ListBox-docpage/#control.ListBox__param-parameters.state)\r\n     */\r\n    defaultState: PropTypes.shape({}),\r\n  };\r\n}\r\n\r\nexport default withParentContext(withYMaps(ListBox, true, [`control.ListBox`]));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\n\r\nimport { BaseControl } from './BaseControl';\r\n\r\nexport function ListBoxItem(props) {\r\n  return <BaseControl {...props} name=\"ListBoxItem\" />;\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  ListBoxItem.propTypes = {\r\n    /**\r\n     * Control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.ListBoxItem-docpage/#control.ListBoxItem__param-parameters.data)\r\n     */\r\n    data: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.ListBoxItem-docpage/#control.ListBoxItem__param-parameters.data)\r\n     */\r\n    defaultData: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.ListBoxItem-docpage/#control.ListBoxItem__param-parameters.options)\r\n     */\r\n    options: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.ListBoxItem-docpage/#control.ListBoxItem__param-parameters.options)\r\n     */\r\n    defaultOptions: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.ListBoxItem-docpage/#control.ListBoxItem__param-parameters.state)\r\n     */\r\n    state: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.ListBoxItem-docpage/#control.ListBoxItem__param-parameters.state)\r\n     */\r\n    defaultState: PropTypes.shape({}),\r\n  };\r\n}\r\n\r\nexport default withParentContext(\r\n  withYMaps(ListBoxItem, true, [`control.ListBoxItem`])\r\n);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\n\r\nimport { BaseControl } from './BaseControl';\r\n\r\nexport function RouteButton(props) {\r\n  return <BaseControl {...props} name=\"RouteButton\" />;\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  RouteButton.propTypes = {\r\n    /**\r\n     * Control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RouteButton-docpage/#control.RouteButton__param-parameters.data)\r\n     */\r\n    data: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RouteButton-docpage/#control.RouteButton__param-parameters.data)\r\n     */\r\n    defaultData: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RouteButton-docpage/#control.RouteButton__param-parameters.options)\r\n     */\r\n    options: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RouteButton-docpage/#control.RouteButton__param-parameters.options)\r\n     */\r\n    defaultOptions: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RouteButton-docpage/#control.RouteButton__param-parameters.state)\r\n     */\r\n    state: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RouteButton-docpage/#control.RouteButton__param-parameters.state)\r\n     */\r\n    defaultState: PropTypes.shape({}),\r\n  };\r\n}\r\n\r\nexport default withParentContext(\r\n  withYMaps(RouteButton, true, [`control.RouteButton`])\r\n);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\n\r\nimport { BaseControl } from './BaseControl';\r\n\r\nexport function RouteEditor(props) {\r\n  return <BaseControl {...props} name=\"RouteEditor\" />;\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  RouteEditor.propTypes = {\r\n    /**\r\n     * Control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RouteEditor-docpage/#control.RouteEditor__param-parameters.data)\r\n     */\r\n    data: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RouteEditor-docpage/#control.RouteEditor__param-parameters.data)\r\n     */\r\n    defaultData: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RouteEditor-docpage/#control.RouteEditor__param-parameters.options)\r\n     */\r\n    options: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RouteEditor-docpage/#control.RouteEditor__param-parameters.options)\r\n     */\r\n    defaultOptions: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RouteEditor-docpage/#control.RouteEditor__param-parameters.state)\r\n     */\r\n    state: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RouteEditor-docpage/#control.RouteEditor__param-parameters.state)\r\n     */\r\n    defaultState: PropTypes.shape({}),\r\n  };\r\n}\r\n\r\nexport default withParentContext(\r\n  withYMaps(RouteEditor, true, [`control.RouteEditor`])\r\n);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\n\r\nimport { BaseControl } from './BaseControl';\r\n\r\nexport function RoutePanel(props) {\r\n  return <BaseControl {...props} name=\"RoutePanel\" />;\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  RoutePanel.propTypes = {\r\n    /**\r\n     * Control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RoutePanel-docpage/#control.RoutePanel__param-parameters.data)\r\n     */\r\n    data: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RoutePanel-docpage/#control.RoutePanel__param-parameters.data)\r\n     */\r\n    defaultData: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RoutePanel-docpage/#control.RoutePanel__param-parameters.options)\r\n     */\r\n    options: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RoutePanel-docpage/#control.RoutePanel__param-parameters.options)\r\n     */\r\n    defaultOptions: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RoutePanel-docpage/#control.RoutePanel__param-parameters.state)\r\n     */\r\n    state: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RoutePanel-docpage/#control.RoutePanel__param-parameters.state)\r\n     */\r\n    defaultState: PropTypes.shape({}),\r\n  };\r\n}\r\n\r\nexport default withParentContext(\r\n  withYMaps(RoutePanel, true, [`control.RoutePanel`])\r\n);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\n\r\nimport { BaseControl } from './BaseControl';\r\n\r\nexport function RulerControl(props) {\r\n  return <BaseControl {...props} name=\"RulerControl\" />;\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  RulerControl.propTypes = {\r\n    /**\r\n     * Control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RulerControl-docpage/#control.RulerControl__param-parameters.data)\r\n     */\r\n    data: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RulerControl-docpage/#control.RulerControl__param-parameters.data)\r\n     */\r\n    defaultData: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RulerControl-docpage/#control.RulerControl__param-parameters.options)\r\n     */\r\n    options: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RulerControl-docpage/#control.RulerControl__param-parameters.options)\r\n     */\r\n    defaultOptions: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RulerControl-docpage/#control.RulerControl__param-parameters.state)\r\n     */\r\n    state: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.RulerControl-docpage/#control.RulerControl__param-parameters.state)\r\n     */\r\n    defaultState: PropTypes.shape({}),\r\n  };\r\n}\r\n\r\nexport default withParentContext(\r\n  withYMaps(RulerControl, true, [`control.RulerControl`])\r\n);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\n\r\nimport { BaseControl } from './BaseControl';\r\n\r\nexport function SearchControl(props) {\r\n  return <BaseControl {...props} name=\"SearchControl\" />;\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  SearchControl.propTypes = {\r\n    /**\r\n     * Control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.SearchControl-docpage/#control.SearchControl__param-parameters.data)\r\n     */\r\n    data: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.SearchControl-docpage/#control.SearchControl__param-parameters.data)\r\n     */\r\n    defaultData: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.SearchControl-docpage/#control.SearchControl__param-parameters.options)\r\n     */\r\n    options: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.SearchControl-docpage/#control.SearchControl__param-parameters.options)\r\n     */\r\n    defaultOptions: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.SearchControl-docpage/#control.SearchControl__param-parameters.state)\r\n     */\r\n    state: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.SearchControl-docpage/#control.SearchControl__param-parameters.state)\r\n     */\r\n    defaultState: PropTypes.shape({}),\r\n  };\r\n}\r\n\r\nexport default withParentContext(\r\n  withYMaps(SearchControl, true, [`control.SearchControl`])\r\n);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\n\r\nimport { BaseControl } from './BaseControl';\r\n\r\nexport function TrafficControl(props) {\r\n  return <BaseControl {...props} name=\"TrafficControl\" />;\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  TrafficControl.propTypes = {\r\n    /**\r\n     * Control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.TrafficControl-docpage/#control.TrafficControl__param-parameters.data)\r\n     */\r\n    data: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.TrafficControl-docpage/#control.TrafficControl__param-parameters.data)\r\n     */\r\n    defaultData: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.TrafficControl-docpage/#control.TrafficControl__param-parameters.options)\r\n     */\r\n    options: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.TrafficControl-docpage/#control.TrafficControl__param-parameters.options)\r\n     */\r\n    defaultOptions: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.TrafficControl-docpage/#control.TrafficControl__param-parameters.state)\r\n     */\r\n    state: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.TrafficControl-docpage/#control.TrafficControl__param-parameters.state)\r\n     */\r\n    defaultState: PropTypes.shape({}),\r\n  };\r\n}\r\n\r\nexport default withParentContext(\r\n  withYMaps(TrafficControl, true, [`control.TrafficControl`])\r\n);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\n\r\nimport { BaseControl } from './BaseControl';\r\n\r\nexport function TypeSelector(props) {\r\n  return <BaseControl {...props} name=\"TypeSelector\" />;\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  TypeSelector.propTypes = {\r\n    /**\r\n     * [Array of constructors for map types](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.TypeSelector-docpage/#control.TypeSelector__param-parameters.mapTypes) or keys. If the parameter is omitted, the item is added to the standard set of map types.\r\n     */\r\n    mapTypes: PropTypes.arrayOf(\r\n      PropTypes.oneOf(['yandex#map', 'yandex#satellite', 'yandex#hybrid'])\r\n    ),\r\n    /**\r\n     * Uncontroled [array of constructors for map types](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.TypeSelector-docpage/#control.TypeSelector__param-parameters.mapTypes) or keys. If the parameter is omitted, the item is added to the standard set of map types.\r\n     */\r\n    defaultMapTypes: PropTypes.arrayOf(\r\n      PropTypes.oneOf(['yandex#map', 'yandex#satellite', 'yandex#hybrid'])\r\n    ),\r\n\r\n    /**\r\n     * Control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.TypeSelector-docpage/#control.TypeSelector__param-parameters.options)\r\n     */\r\n    options: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.TypeSelector-docpage/#control.TypeSelector__param-parameters.options)\r\n     */\r\n    defaultOptions: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.TypeSelector-docpage/#control.TypeSelector__param-parameters.state)\r\n     */\r\n    state: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.TypeSelector-docpage/#control.TypeSelector__param-parameters.state)\r\n     */\r\n    defaultState: PropTypes.shape({}),\r\n  };\r\n}\r\n\r\nexport default withParentContext(\r\n  withYMaps(TypeSelector, true, [`control.TypeSelector`])\r\n);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\n\r\nimport { BaseControl } from './BaseControl';\r\n\r\nexport function ZoomControl(props) {\r\n  return <BaseControl {...props} name=\"ZoomControl\" />;\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  ZoomControl.propTypes = {\r\n    /**\r\n     * Control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.ZoomControl-docpage/#control.ZoomControl__param-parameters.data)\r\n     */\r\n    data: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [data](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.ZoomControl-docpage/#control.ZoomControl__param-parameters.data)\r\n     */\r\n    defaultData: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.ZoomControl-docpage/#control.ZoomControl__param-parameters.options)\r\n     */\r\n    options: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.ZoomControl-docpage/#control.ZoomControl__param-parameters.options)\r\n     */\r\n    defaultOptions: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.ZoomControl-docpage/#control.ZoomControl__param-parameters.state)\r\n     */\r\n    state: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled control [state](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/control.ZoomControl-docpage/#control.ZoomControl__param-parameters.state)\r\n     */\r\n    defaultState: PropTypes.shape({}),\r\n  };\r\n}\r\n\r\nexport default withParentContext(\r\n  withYMaps(ZoomControl, true, [`control.ZoomControl`])\r\n);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport * as events from '../util/events';\r\nimport { getProp, isControlledProp } from '../util/props';\r\nimport { withParentContext, ParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\nimport applyRef from '../util/ref';\r\n\r\nexport class Clusterer extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = { instance: null };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const instance = Clusterer.mountObject(\r\n      this.props.ymaps.Clusterer,\r\n      this.props\r\n    );\r\n\r\n    this.setState({ instance });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.state.instance !== null) {\r\n      Clusterer.updateObject(this.state.instance, prevProps, this.props);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    Clusterer.unmountObject(this.state.instance, this.props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <ParentContext.Provider value={this.state.instance}>\r\n        {this.props.children}\r\n      </ParentContext.Provider>\r\n    );\r\n  }\r\n\r\n  static mountObject(Clusterer, props) {\r\n    const { instanceRef, parent, _events } = events.separateEvents(props);\r\n\r\n    const options = getProp(props, 'options');\r\n\r\n    const instance = new Clusterer(options);\r\n\r\n    Object.keys(_events).forEach(key =>\r\n      events.addEvent(instance, key, _events[key])\r\n    );\r\n\r\n    if (parent.geoObjects && typeof parent.geoObjects.add === 'function') {\r\n      parent.geoObjects.add(instance);\r\n    } else if (parent.add && typeof parent.add === 'function') {\r\n      parent.add(instance);\r\n    } else {\r\n      throw new Error('No parent found to mount Clusterer');\r\n    }\r\n\r\n    applyRef(null, instanceRef, instance);\r\n\r\n    return instance;\r\n  }\r\n\r\n  static updateObject(instance, oldProps, newProps) {\r\n    const { _events: newEvents, instanceRef } = events.separateEvents(newProps);\r\n    const { _events: oldEvents, instanceRef: oldRef } = events.separateEvents(\r\n      oldProps\r\n    );\r\n\r\n    if (isControlledProp(newProps, 'options')) {\r\n      const oldOptions = getProp(oldProps, 'options');\r\n      const newOptions = getProp(newProps, 'options');\r\n\r\n      if (oldOptions !== newOptions) {\r\n        instance.options.set(newOptions);\r\n      }\r\n    }\r\n\r\n    events.updateEvents(instance, oldEvents, newEvents);\r\n\r\n    applyRef(oldRef, instanceRef, instance);\r\n  }\r\n\r\n  static unmountObject(instance, props) {\r\n    const { instanceRef, parent, _events } = events.separateEvents(props);\r\n\r\n    if (instance !== null) {\r\n      Object.keys(_events).forEach(key =>\r\n        events.removeEvent(instance, key, _events[key])\r\n      );\r\n\r\n      if (parent.geoObjects && typeof parent.geoObjects.remove === 'function') {\r\n        parent.geoObjects.remove(instance);\r\n      } else if (parent.remove && typeof parent.remove === 'function') {\r\n        parent.remove(instance);\r\n      }\r\n\r\n      applyRef(instanceRef);\r\n    }\r\n  }\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  Clusterer.propTypes = {\r\n    /** Clusterer [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Clusterer-docpage/) */\r\n    options: PropTypes.shape({}),\r\n    /** Uncontrolled Clusterer [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Clusterer-docpage/) */\r\n    defaultOptions: PropTypes.shape({}),\r\n\r\n    instanceRef: PropTypes.func,\r\n\r\n    ymaps: PropTypes.object,\r\n\r\n    parent: PropTypes.object,\r\n\r\n    children: PropTypes.node,\r\n  };\r\n}\r\n\r\nexport default withParentContext(withYMaps(Clusterer, true, ['Clusterer']));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport * as events from '../util/events';\r\nimport { getProp, isControlledProp } from '../util/props';\r\nimport { withParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\nimport applyRef from '../util/ref';\r\n\r\nexport class ObjectManager extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = { instance: null };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const instance = ObjectManager.mountObject(\r\n      this.props.ymaps.ObjectManager,\r\n      this.props\r\n    );\r\n\r\n    this.setState({ instance });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.state.instance !== null) {\r\n      ObjectManager.updateObject(this.state.instance, prevProps, this.props);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    ObjectManager.unmountObject(this.state.instance, this.props);\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n\r\n  static mountObject(ObjectManager, props) {\r\n    const { instanceRef, parent, _events } = events.separateEvents(props);\r\n\r\n    const options = getProp(props, 'options', {});\r\n    const features = getProp(props, 'features', {});\r\n    const filter = getProp(props, 'filter', null);\r\n    const objects = getProp(props, 'objects', {});\r\n    const clusters = getProp(props, 'clusters', {});\r\n\r\n    const instance = new ObjectManager(options);\r\n\r\n    instance.add(features || []);\r\n\r\n    instance.setFilter(filter);\r\n\r\n    instance.objects.options.set(objects);\r\n    instance.clusters.options.set(clusters);\r\n\r\n    Object.keys(_events).forEach(key =>\r\n      events.addEvent(instance, key, _events[key])\r\n    );\r\n\r\n    if (parent.geoObjects && typeof parent.geoObjects.add === 'function') {\r\n      parent.geoObjects.add(instance);\r\n    } else if (parent.add && typeof parent.add === 'function') {\r\n      parent.add(instance);\r\n    } else {\r\n      throw new Error('No parent found to mount ObjectManager');\r\n    }\r\n\r\n    applyRef(null, instanceRef, instance);\r\n\r\n    return instance;\r\n  }\r\n\r\n  static updateObject(instance, oldProps, newProps) {\r\n    const { _events: newEvents, instanceRef } = events.separateEvents(newProps);\r\n    const { _events: oldEvents, instanceRef: oldRef } = events.separateEvents(\r\n      oldProps\r\n    );\r\n\r\n    if (isControlledProp(newProps, 'options')) {\r\n      const oldOptions = getProp(oldProps, 'options');\r\n      const newOptions = getProp(newProps, 'options');\r\n\r\n      if (oldOptions !== newOptions) {\r\n        instance.options.set(newOptions);\r\n      }\r\n    }\r\n\r\n    if (isControlledProp(newProps, 'objects')) {\r\n      const oldObjectsOptions = getProp(oldProps, 'objects');\r\n      const newObjectsOptions = getProp(newProps, 'objects');\r\n\r\n      if (oldObjectsOptions !== newObjectsOptions) {\r\n        instance.objects.options.set(newObjectsOptions);\r\n      }\r\n    }\r\n\r\n    if (isControlledProp(newProps, 'clusters')) {\r\n      const oldClustersOptions = getProp(oldProps, 'clusters');\r\n      const newClustersOptions = getProp(newProps, 'clusters');\r\n\r\n      if (oldClustersOptions !== newClustersOptions) {\r\n        instance.clusters.options.set(newClustersOptions);\r\n      }\r\n    }\r\n\r\n    if (isControlledProp(newProps, 'filter')) {\r\n      const oldFilter = getProp(oldProps, 'filter');\r\n      const newFilter = getProp(newProps, 'filter');\r\n\r\n      if (oldFilter !== newFilter) {\r\n        instance.setFilter(newFilter);\r\n      }\r\n    }\r\n\r\n    if (isControlledProp(newProps, 'features')) {\r\n      const oldFeatures = getProp(oldProps, 'features');\r\n      const newFeatures = getProp(newProps, 'features');\r\n\r\n      if (oldFeatures !== newFeatures) {\r\n        instance.remove(oldFeatures);\r\n        instance.add(newFeatures);\r\n      }\r\n    }\r\n\r\n    events.updateEvents(instance, oldEvents, newEvents);\r\n\r\n    applyRef(oldRef, instanceRef, instance);\r\n  }\r\n\r\n  static unmountObject(instance, props) {\r\n    const { instanceRef, parent, _events } = events.separateEvents(props);\r\n\r\n    if (instance !== null) {\r\n      Object.keys(_events).forEach(key =>\r\n        events.removeEvent(instance, key, _events[key])\r\n      );\r\n\r\n      if (parent.geoObjects && typeof parent.geoObjects.remove === 'function') {\r\n        parent.geoObjects.remove(instance);\r\n      } else if (parent.remove && typeof parent.remove === 'function') {\r\n        parent.remove(instance);\r\n      }\r\n\r\n      applyRef(instanceRef);\r\n    }\r\n  }\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  const TYPE_FEATURE = 'Feature';\r\n\r\n  const TYPE_FEATURE_COLLECTION = 'FeatureCollection';\r\n\r\n  // https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/ObjectManager-docpage/#add-param-objects\r\n  const FeaturePropType = PropTypes.shape({\r\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\r\n    type: PropTypes.oneOf([TYPE_FEATURE]).isRequired,\r\n    geometry: PropTypes.object.isRequired,\r\n    options: PropTypes.object,\r\n    properties: PropTypes.object,\r\n  });\r\n\r\n  // INFO: A hack to make recursive prop-type check work properly\r\n  const FeatureCollection = {\r\n    type: PropTypes.oneOf([TYPE_FEATURE_COLLECTION]).isRequired,\r\n  };\r\n\r\n  FeatureCollection.features = PropTypes.arrayOf(\r\n    PropTypes.oneOfType([PropTypes.shape(FeatureCollection), FeaturePropType])\r\n  ).isRequired;\r\n\r\n  const FeatureCollectionPropType = PropTypes.shape(FeatureCollection);\r\n\r\n  const FeaturesPropType = PropTypes.oneOfType([\r\n    PropTypes.arrayOf(\r\n      PropTypes.oneOfType([FeatureCollectionPropType, FeaturePropType])\r\n    ),\r\n    FeatureCollectionPropType,\r\n  ]);\r\n\r\n  const FilterPropType = PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.func,\r\n  ]);\r\n\r\n  // TODO\r\n  const ObjectManagerOptionsPropType = PropTypes.shape({});\r\n\r\n  // TODO\r\n  const ObjectManagerObjectsOptionsPropType = PropTypes.shape({});\r\n\r\n  // TODO\r\n  const ObjectManagerClustersOptionsPropType = PropTypes.shape({});\r\n\r\n  ObjectManager.propTypes = {\r\n    /**\r\n     * ObjectManager [features](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/ObjectManager-docpage/#method_detail__add-param-objects)\r\n     */\r\n    features: FeaturesPropType,\r\n    /**\r\n     * Uncontrolled ObjectManager [features](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/ObjectManager-docpage/#method_detail__add-param-objects)\r\n     */\r\n    defaultFeatures: FeaturesPropType,\r\n\r\n    /**\r\n     * ObjectManager [features filter](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/ObjectManager-docpage/#method_detail__setFilter-param-filterFunction)\r\n     */\r\n    filter: FilterPropType,\r\n    /**\r\n     * Uncontrolled ObjectManager [features filter](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/ObjectManager-docpage/#method_detail__setFilter-param-filterFunction)\r\n     */\r\n    defaultFilter: FilterPropType,\r\n\r\n    /**\r\n     * ObjectManager [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/ObjectManager-docpage/#ObjectManager__param-options)\r\n     */\r\n    options: ObjectManagerOptionsPropType,\r\n    /**\r\n     * Uncontrolled ObjectManager [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/ObjectManager-docpage/#ObjectManager__param-options)\r\n     */\r\n    defaultOptions: ObjectManagerOptionsPropType,\r\n\r\n    /** ObjectManager object options */\r\n    objects: ObjectManagerObjectsOptionsPropType,\r\n    defaultObjects: ObjectManagerObjectsOptionsPropType,\r\n\r\n    /** ObjectManager clusters options */\r\n    clusters: ObjectManagerClustersOptionsPropType,\r\n    defaultClusters: ObjectManagerClustersOptionsPropType,\r\n\r\n    /** ref prop but for Yandex.Maps object instances */\r\n    instanceRef: PropTypes.func,\r\n\r\n    /**\r\n     * @ignore\r\n     * Yandex.Maps API object\r\n     */\r\n    ymaps: PropTypes.object,\r\n\r\n    /**\r\n     * @ignore\r\n     * Parent object (e.g, ymaps.Map or ymaps.Clusterer)\r\n     */\r\n    parent: PropTypes.object,\r\n  };\r\n}\r\n\r\nexport default withParentContext(\r\n  withYMaps(ObjectManager, true, ['ObjectManager'])\r\n);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport * as events from '../util/events';\r\nimport { getProp, isControlledProp } from '../util/props';\r\nimport applyRef from '../util/ref';\r\n\r\nexport class BaseGeoObject extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = { instance: null };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { name, ymaps, dangerZone } = this.props;\r\n\r\n    const instance = BaseGeoObject.mountObject(\r\n      dangerZone && typeof dangerZone.modifyConstructor === 'function'\r\n        ? dangerZone.modifyConstructor(ymaps[name])\r\n        : ymaps[name],\r\n      this.props\r\n    );\r\n\r\n    this.setState({ instance });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.state.instance !== null) {\r\n      BaseGeoObject.updateObject(this.state.instance, prevProps, this.props);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    BaseGeoObject.unmountObject(this.state.instance, this.props);\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n\r\n  static mountObject(GeoObject, props) {\r\n    const { instanceRef, parent, _events } = events.separateEvents(props);\r\n\r\n    const geometry = getProp(props, 'geometry');\r\n    const properties = getProp(props, 'properties');\r\n    const options = getProp(props, 'options');\r\n\r\n    const instance = new GeoObject(geometry, properties, options);\r\n\r\n    Object.keys(_events).forEach(key =>\r\n      events.addEvent(instance, key, _events[key])\r\n    );\r\n\r\n    if (\r\n      parent &&\r\n      parent.geoObjects &&\r\n      typeof parent.geoObjects.add === 'function'\r\n    ) {\r\n      parent.geoObjects.add(instance);\r\n    } else if (parent && parent.add && typeof parent.add === 'function') {\r\n      parent.add(instance);\r\n    } else {\r\n      throw new Error(`No parent found to mount ${props.name}`);\r\n    }\r\n\r\n    applyRef(null, instanceRef, instance);\r\n\r\n    return instance;\r\n  }\r\n\r\n  static updateObject(instance, oldProps, newProps) {\r\n    const { _events: newEvents, instanceRef } = events.separateEvents(newProps);\r\n    const { _events: oldEvents, instanceRef: oldRef } = events.separateEvents(\r\n      oldProps\r\n    );\r\n\r\n    if (isControlledProp(newProps, 'geometry')) {\r\n      const oldGeometry = getProp(oldProps, 'geometry', {});\r\n      const newGeometry = getProp(newProps, 'geometry', {});\r\n\r\n      if (Array.isArray(newGeometry) && newGeometry !== oldGeometry) {\r\n        if (\r\n          // Circle geometry is a special case\r\n          Array.isArray(newGeometry[0]) &&\r\n          typeof newGeometry[1] === 'number'\r\n        ) {\r\n          instance.geometry.setCoordinates(newGeometry[0]);\r\n          instance.geometry.setRadius(newGeometry[1]);\r\n        } else {\r\n          instance.geometry.setCoordinates(newGeometry);\r\n        }\r\n      } else if (typeof newGeometry === 'object') {\r\n        if (newGeometry.coordinates !== oldGeometry.coordinates) {\r\n          instance.geometry.setCoordinates(newGeometry.coordinates);\r\n        }\r\n\r\n        if (newGeometry.radius !== oldGeometry.radius) {\r\n          instance.geometry.setRadius(newGeometry.radius);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (isControlledProp(newProps, 'properties')) {\r\n      const oldProperties = getProp(oldProps, 'properties');\r\n      const newProperties = getProp(newProps, 'properties');\r\n\r\n      if (oldProperties !== newProperties) {\r\n        instance.properties.set(newProperties);\r\n      }\r\n    }\r\n\r\n    if (isControlledProp(newProps, 'options')) {\r\n      const oldOptions = getProp(oldProps, 'options');\r\n      const newOptions = getProp(newProps, 'options');\r\n\r\n      if (oldOptions !== newOptions) {\r\n        instance.options.set(newOptions);\r\n      }\r\n    }\r\n\r\n    events.updateEvents(instance, oldEvents, newEvents);\r\n\r\n    applyRef(oldRef, instanceRef, instance);\r\n  }\r\n\r\n  static unmountObject(instance, props) {\r\n    const { instanceRef, parent, _events } = events.separateEvents(props);\r\n\r\n    if (instance !== null) {\r\n      Object.keys(_events).forEach(key =>\r\n        events.removeEvent(instance, key, _events[key])\r\n      );\r\n\r\n      if (parent.geoObjects && typeof parent.geoObjects.remove === 'function') {\r\n        parent.geoObjects.remove(instance);\r\n      } else if (parent.remove && typeof parent.remove === 'function') {\r\n        parent.remove(instance);\r\n      }\r\n\r\n      applyRef(instanceRef);\r\n    }\r\n  }\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  BaseGeoObject.propTypes = {\r\n    /** ref prop but for Yandex.Maps object instances */\r\n    instanceRef: PropTypes.func,\r\n\r\n    /** Yandex.Maps API object */\r\n    ymaps: PropTypes.object,\r\n\r\n    /** Parent object (e.g, ymaps.Map or ymaps.Clusterer) */\r\n    parent: PropTypes.object,\r\n\r\n    /** GeoObject name */\r\n    name: PropTypes.oneOf([\r\n      'GeoObject',\r\n      'Placemark',\r\n      'Polyline',\r\n      'Rectangle',\r\n      'Polygon',\r\n      'Circle',\r\n    ]).isRequired,\r\n\r\n    /**\r\n     * Used in a special case where constructor needs to be\r\n     * modified before passing it to the mount method\r\n     */\r\n    dangerZone: PropTypes.shape({\r\n      modifyConstructor: PropTypes.func,\r\n    }),\r\n  };\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\n\r\nimport { BaseGeoObject } from './BaseGeoObject';\r\n\r\nconst geoObjectDangerZoneProps = {\r\n  modifyConstructor(Constructor) {\r\n    /**\r\n     * The only difference between GeoObject and all the other,\r\n     * more specific GeoObject constructors (like Placemark, Circle,\r\n     * or Polyline) is the way in which the arguments are passed to\r\n     * the constructor. GeoObject expects `feature` with `geometry` and\r\n     * `properties` keys and all the other GeoObject constructors\r\n     * expect `geometry` and `properties` as separate arguments\r\n     *\r\n     * We will hack around this difference with our custom constructor.\r\n     * That way we can completely reuse GeoObject static methods.\r\n     */\r\n    function GeoObjectConstructor(geometry, properties, options) {\r\n      Constructor.call(this, { geometry, properties }, options);\r\n    }\r\n\r\n    GeoObjectConstructor.prototype = Constructor.prototype;\r\n\r\n    return GeoObjectConstructor;\r\n  },\r\n};\r\n\r\nexport function GeoObject(props) {\r\n  return (\r\n    <BaseGeoObject\r\n      {...props}\r\n      name=\"GeoObject\"\r\n      dangerZone={geoObjectDangerZoneProps}\r\n    />\r\n  );\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  const GeoObjectGeometryPropTypes = PropTypes.shape({\r\n    type: PropTypes.oneOf([\r\n      'Point',\r\n      'LineString',\r\n      'Rectangle',\r\n      'Polygon',\r\n      'Circle',\r\n    ]).isRequired,\r\n    coordinates: PropTypes.oneOfType([\r\n      PropTypes.arrayOf(PropTypes.number),\r\n      PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number)),\r\n      PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number))),\r\n    ]).isRequired,\r\n    radius: PropTypes.number,\r\n  });\r\n\r\n  GeoObject.propTypes = {\r\n    /**\r\n     * GeoObject [feature.geometry](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/GeoObject-docpage/#param-feature.geometry)\r\n     */\r\n    geometry: GeoObjectGeometryPropTypes,\r\n    /**\r\n     * Uncontrolled GeoObject [feature.geometry](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/GeoObject-docpage/#param-feature.geometry)\r\n     */\r\n    defaultGeometry: GeoObjectGeometryPropTypes,\r\n\r\n    /**\r\n     * GeoObject [feature.properties](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/GeoObject-docpage/#param-feature.properties)\r\n     */\r\n    properties: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled GeoObject [feature.properties](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/GeoObject-docpage/#param-feature.properties)\r\n     */\r\n    defaultProperties: PropTypes.shape({}),\r\n\r\n    /**\r\n     * GeoObject [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/GeoObject-docpage/#param-options)\r\n     */\r\n    options: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled GeoObject [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/GeoObject-docpage/#param-options)\r\n     */\r\n    defaultOptions: PropTypes.shape({}),\r\n  };\r\n}\r\n\r\nexport default withParentContext(withYMaps(GeoObject, true, ['GeoObject']));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\n\r\nimport { BaseGeoObject } from './BaseGeoObject';\r\n\r\nexport function Circle(props) {\r\n  return <BaseGeoObject {...props} name=\"Circle\" />;\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  const CircleGeometryPropTypes = PropTypes.arrayOf(\r\n    PropTypes.oneOfType([PropTypes.number, PropTypes.arrayOf(PropTypes.number)])\r\n  );\r\n\r\n  Circle.propTypes = {\r\n    /**\r\n     * Circle [geometry](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Circle-docpage/#param-geometry)\r\n     */\r\n    geometry: CircleGeometryPropTypes,\r\n    /**\r\n     * Uncontrolled circle [geometry](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Circle-docpage/#param-geometry)\r\n     */\r\n    defaultGeometry: CircleGeometryPropTypes,\r\n\r\n    /**\r\n     * Circle [properties](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Circle-docpage/#param-properties)\r\n     */\r\n    properties: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled circle [properties](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Circle-docpage/#param-properties)\r\n     */\r\n    defaultProperties: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Circle [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Circle-docpage/#param-options)\r\n     */\r\n    options: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled circle [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Circle-docpage/#param-options)\r\n     */\r\n    defaultOptions: PropTypes.shape({}),\r\n  };\r\n}\r\n\r\nexport default withParentContext(withYMaps(Circle, true, ['Circle']));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\n\r\nimport { BaseGeoObject } from './BaseGeoObject';\r\n\r\nexport function Placemark(props) {\r\n  return <BaseGeoObject {...props} name=\"Placemark\" />;\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  const PlacemarkGeometryPropTypes = PropTypes.arrayOf(PropTypes.number);\r\n\r\n  Placemark.propTypes = {\r\n    /**\r\n     * Placemark [geometry](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Placemark-docpage/#param-geometry)\r\n     */\r\n    geometry: PlacemarkGeometryPropTypes,\r\n    /**\r\n     * Uncontrolled Placemark [geometry](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Placemark-docpage/#param-geometry)\r\n     */\r\n    defaultGeometry: PlacemarkGeometryPropTypes,\r\n\r\n    /**\r\n     * Placemark [properties](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Placemark-docpage/#param-properties)\r\n     */\r\n    properties: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled Placemark [properties](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Placemark-docpage/#param-properties)\r\n     */\r\n    defaultProperties: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Placemark [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Placemark-docpage/#param-options)\r\n     */\r\n    options: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled Placemark [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Placemark-docpage/#param-options)\r\n     */\r\n    defaultOptions: PropTypes.shape({}),\r\n  };\r\n}\r\n\r\nexport default withParentContext(withYMaps(Placemark, true, ['Placemark']));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\n\r\nimport { BaseGeoObject } from './BaseGeoObject';\r\n\r\nexport function Polygon(props) {\r\n  return <BaseGeoObject {...props} name=\"Polygon\" />;\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  const PolygonGeometryPropTypes = PropTypes.arrayOf(\r\n    PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number))\r\n  );\r\n\r\n  Polygon.propTypes = {\r\n    /**\r\n     * Polygon [geometry](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Polygon-docpage/#param-geometry)\r\n     */\r\n    geometry: PolygonGeometryPropTypes,\r\n    /**\r\n     * Uncontrolled Polygon [geometry](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Polygon-docpage/#param-geometry)\r\n     */\r\n    defaultGeometry: PolygonGeometryPropTypes,\r\n\r\n    /**\r\n     * Polygon [properties](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Polygon-docpage/#param-properties)\r\n     */\r\n    properties: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled Polygon [properties](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Polygon-docpage/#param-properties)\r\n     */\r\n    defaultProperties: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Polygon [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Polygon-docpage/#param-options)\r\n     */\r\n    options: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled Polygon [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Polygon-docpage/#param-options)\r\n     */\r\n    defaultOptions: PropTypes.shape({}),\r\n  };\r\n}\r\n\r\nexport default withParentContext(withYMaps(Polygon, true, ['Polygon']));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\n\r\nimport { BaseGeoObject } from './BaseGeoObject';\r\n\r\nexport function Polyline(props) {\r\n  return <BaseGeoObject {...props} name=\"Polyline\" />;\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  const PolylineGeometryPropTypes = PropTypes.arrayOf(\r\n    PropTypes.arrayOf(PropTypes.number)\r\n  );\r\n\r\n  Polyline.propTypes = {\r\n    /**\r\n     * Polyline [geometry](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Polyline-docpage/#param-geometry)\r\n     */\r\n    geometry: PolylineGeometryPropTypes,\r\n    /**\r\n     * Uncontrolled Polyline [geometry](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Polyline-docpage/#param-geometry)\r\n     */\r\n    defaultGeometry: PolylineGeometryPropTypes,\r\n\r\n    /**\r\n     * Polyline [properties](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Polyline-docpage/#param-properties)\r\n     */\r\n    properties: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled Polyline [properties](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Polyline-docpage/#param-properties)\r\n     */\r\n    defaultProperties: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Polyline [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Polyline-docpage/#param-options)\r\n     */\r\n    options: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled Polyline [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Polyline-docpage/#param-options)\r\n     */\r\n    defaultOptions: PropTypes.shape({}),\r\n  };\r\n}\r\n\r\nexport default withParentContext(withYMaps(Polyline, true, ['Polyline']));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withParentContext } from '../Context';\r\nimport withYMaps from '../withYMaps';\r\n\r\nimport { BaseGeoObject } from './BaseGeoObject';\r\n\r\nexport function Rectangle(props) {\r\n  return <BaseGeoObject {...props} name=\"Rectangle\" />;\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  const RectangleGeometryPropTypes = PropTypes.arrayOf(\r\n    PropTypes.arrayOf(PropTypes.number)\r\n  );\r\n\r\n  Rectangle.propTypes = {\r\n    /**\r\n     * Rectangle [geometry](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Rectangle-docpage/#param-geometry)\r\n     */\r\n    geometry: RectangleGeometryPropTypes,\r\n    /**\r\n     * Uncontrolled Rectangle [geometry](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Rectangle-docpage/#param-geometry)\r\n     */\r\n    defaultGeometry: RectangleGeometryPropTypes,\r\n\r\n    /**\r\n     * Rectangle [properties](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Rectangle-docpage/#param-properties)\r\n     */\r\n    properties: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled Rectangle [properties](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Rectangle-docpage/#param-properties)\r\n     */\r\n    defaultProperties: PropTypes.shape({}),\r\n\r\n    /**\r\n     * Rectangle [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Rectangle-docpage/#param-options)\r\n     */\r\n    options: PropTypes.shape({}),\r\n    /**\r\n     * Uncontrolled Rectangle [options](https://tech.yandex.com/maps/doc/jsapi/2.1/ref/reference/Rectangle-docpage/#param-options)\r\n     */\r\n    defaultOptions: PropTypes.shape({}),\r\n  };\r\n}\r\n\r\nexport default withParentContext(withYMaps(Rectangle, true, ['Rectangle']));\r\n"],"names":["omit","obj","arr","res","n","indexOf","YMapsContext","createReactContext","ParentContext","withParentContext","Component","WithParentContext","props","React","createElement","Consumer","parent","_extends","displayName","name","withYMaps","waitForApi","modules","WithYMaps","_React$Component","_this","call","this","state","loading","_isMounted","_inheritsLoose","_proto","prototype","componentDidMount","_this2","ymaps","load","then","api","Promise","all","concat","map","loadModule","setState","onLoad","err","onError","componentWillUnmount","render","shouldRender","getApi","propTypes","PropTypes","func","arrayOf","string","object","defaultProps","Function","WithYMapsContext","Error","withYMapsContext","YMAPS_DEFAULT_QUERY","lang","ns","mode","PROMISES","YMaps","options","hash","Date","now","toString","namespace","query","onload","YMAPS_ONLOAD","onerror","YMAPS_ONERROR","window","setApi","getPromise","promise","setPromise","resolve","Object","assign","queryString","keys","key","join","url","enterprise","version","reject","bind","ready","fetchScript","script","document","type","src","async","head","appendChild","moduleName","_this3","require","Module","path","value","ifNotExists","split","slice","ref","length","shift","set","_name","Provider","preload","children","isRequired","bool","shape","oneOf","apikey","coordorder","csp","node","EVENTS_REGEX","separateEvents","reduce","acc","test","eventName","replace","toLowerCase","_events","addEvent","instance","handler","events","add","removeEvent","remove","updateEvents","oldEvents","newEvents","forEach","defaultName","charAt","toUpperCase","isControlledProp","undefined","getProp","defaultValue","applyRef","oldRef","newRef","hasOwnProperty","current","getParentElementSize","width","height","style","className","Map","_parentElement","_getRef","mountObject","componentDidUpdate","prevProps","updateObject","unmountObject","parentElementStyle","separatedProps","parentElementProps","parentElement","_events$separateEvent","instanceRef","oldProps","newProps","_events$separateEvent2","_events$separateEvent3","oldState","newState","setType","behaviors","disable","enable","zoom","setZoom","center","setCenter","bounds","setBounds","oldOptions","newOptions","container","fitToViewport","_events$separateEvent4","destroy","MapStatePropTypes","number","controls","margin","oneOfType","MapOptionsPropTypes","defaultState","defaultOptions","Map$1","Panorama","_mounted","panorama","isSupported","point","locateOptions","locate","done","panoramas","Player","oldPoint","moveTo","PanoramaOptionsPropTypes","defaultPoint","layer","BaseControl","mountControl","control","updateControl","unmountControl","Control","lazy","data","mapTypes","oldData","newData","oldMapTypes","newMapTypes","removeAllMapTypes","addMapType","Button","defaultData","FullscreenControl","GeolocationControl","ListBox","ListBoxItem","RouteButton","RouteEditor","RoutePanel","RulerControl","SearchControl","TrafficControl","TypeSelector","defaultMapTypes","TypeSelector$1","ZoomControl","Clusterer","geoObjects","Clusterer$1","ObjectManager","features","filter","objects","clusters","setFilter","oldObjectsOptions","newObjectsOptions","oldClustersOptions","newClustersOptions","oldFilter","newFilter","oldFeatures","newFeatures","FeaturePropType","id","geometry","properties","FeatureCollection","FeatureCollectionPropType","FeaturesPropType","FilterPropType","ObjectManagerOptionsPropType","ObjectManagerObjectsOptionsPropType","ObjectManagerClustersOptionsPropType","defaultFeatures","defaultFilter","defaultObjects","defaultClusters","ObjectManager$1","BaseGeoObject","_this$props","dangerZone","modifyConstructor","GeoObject","oldGeometry","newGeometry","Array","isArray","setCoordinates","setRadius","coordinates","radius","oldProperties","newProperties","geoObjectDangerZoneProps","Constructor","GeoObjectConstructor","GeoObjectGeometryPropTypes","defaultGeometry","defaultProperties","GeoObject$1","Circle","CircleGeometryPropTypes","Circle$1","Placemark","PlacemarkGeometryPropTypes","Placemark$1","Polygon","PolygonGeometryPropTypes","Polyline","PolylineGeometryPropTypes","Polyline$1","Rectangle","RectangleGeometryPropTypes","Rectangle$1"],"mappings":"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"}